<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BridgeMind Games Education | Global System</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --blue: #007bff;
      --yellow: #ffc107;
      --dark: #0056b3;
    }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
      color: #fff;
      min-height: 100vh;
    }
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 86, 179, 0.95);
      z-index: 5000;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    .logo-box {
      text-align: center;
      padding: 15px 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .logo-box img {
      max-width: 220px;
    }
    .nav-flags {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      padding: 8px;
      background: rgba(0,0,0,0.2);
    }
    .f-btn {
      background: #fff;
      border: 1px solid #ddd;
      padding: 5px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 5px;
      color: #333;
    }
    .f-btn.active {
      background: var(--yellow);
      font-weight: bold;
      border-color: var(--yellow);
    }
    .spacer {
      height: 170px;
    }
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin: 30px 0;
    }
    .gallery img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    #img-target {
      border: 4px solid var(--yellow);
    }
    .v-container {
      background: #000;
      border-radius: 15px;
      overflow: hidden;
      margin: 40px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    video {
      width: 100%;
      max-height: 500px;
      display: block;
    }
    .pillars {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }
    .card {
      background: rgba(255, 255, 255, 0.95);
      padding: 25px;
      border-radius: 12px;
      border-left: 5px solid var(--yellow);
      text-align: left;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      color: #333;
    }
    .card h3 {
      margin-top: 0;
      font-size: 1.3rem;
      color: var(--dark);
    }
    #form-wrap {
      display: none;
      background: rgba(255, 255, 255, 0.98);
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 10px 50px rgba(0,0,0,0.3);
      margin: 30px auto;
      max-width: 700px;
      text-align: left;
      color: #333;
    }
    #form-wrap h2 {
      color: var(--dark);
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    label {
      font-weight: bold;
      font-size: 0.9rem;
      color: var(--blue);
      display: block;
      margin-bottom: 5px;
    }
    input, textarea, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-sizing: border-box;
    }
    .full {
      grid-column: span 2;
    }
    .send-btn {
      background: #28a745;
      color: #fff;
      border: none;
      padding: 18px;
      border-radius: 30px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.1rem;
    }
    #form-status {
      margin-top: 10px;
      font-size: 0.9rem;
      display: none;
    }
    footer {
      background: rgba(0,0,0,0.3);
      color: #fff;
      text-align: center;
      padding: 30px;
      margin-top: 50px;
    }
    @media (max-width: 768px) {
      .grid { grid-template-columns: 1fr; }
      .gallery { grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>
<body id="main-body">
  <header>
    <div class="logo-box">
      <img src="bmg.jpg" alt="BridgeMind Games Education">
    </div>
    <nav class="nav-flags" id="flag-box"></nav>
  </header>
  <div class="spacer"></div>
  <main>
    <h1 id="txt-h1">BridgeMind Games Education</h1>
    <p id="txt-p" style="font-size:1.2rem;">Sistema Neuro-LingÃ¼Ã­stico con IA</p>
    <div class="gallery">
      <img src="1.jpeg" alt="Imagen 1">
      <img src="2.jpeg" alt="Imagen 2">
      <img src="3.jpg" alt="Imagen 3">
      <img id="img-target" src="esbr.jpg" alt="Bandera">
    </div>
    <div class="v-container">
      <video id="video-player" controls>
        <source id="video-src" src="esp.mp4" type="video/mp4">
      </video>
    </div>
    <div class="pillars" id="pillar-box"></div>
    <div style="margin:40px 0; display:flex; justify-content:center; gap:15px; flex-wrap:wrap;">
      <button onclick="window.open('https://wa.me/34634268663')" class="f-btn" style="padding:15px 30px; background:var(--blue); color:white; border:none; font-size:1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);" id="btn-wa-txt">Videollamada</button>
      <button onclick="toggleForm()" class="f-btn" style="padding:15px 30px; background:#28a745; color:white; border:none; font-size:1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);" id="btn-info-txt">MÃ¡s InformaciÃ³n</button>
    </div>
    <section id="form-wrap">
      <h2 id="f-header-txt">Contacto</h2>
      <form id="contact-form">
        <input type="hidden" name="idioma_origen" id="hidden-lang">
        <div class="grid">
          <div class="campo">
            <label id="l-org">OrganizaciÃ³n</label>
            <input type="text" name="organizacion" required>
          </div>
          <div class="campo">
            <label id="l-name">Nombre</label>
            <input type="text" name="persona" required>
          </div>
          <div class="campo">
            <label id="l-mail">Email</label>
            <input type="email" name="email" required>
          </div>
          <div class="campo">
            <label id="l-phone">TelÃ©fono</label>
            <div style="display:flex; gap:5px;">
              <select name="prefijo" id="p-prefix" style="width:auto; padding:12px;" required>
                <option value="+34">ðŸ‡ªðŸ‡¸ +34</option>
                <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                <option value="+33">ðŸ‡«ðŸ‡· +33</option>
                <option value="+49">ðŸ‡©ðŸ‡ª +49</option>
                <option value="+39">ðŸ‡®ðŸ‡¹ +39</option>
                <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
                <option value="+86">ðŸ‡¨ðŸ‡³ +86</option>
                <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
              </select>
              <input type="tel" name="telefono" id="p-phone" placeholder="612345678" style="flex:1;" required>
            </div>
          </div>
          <div class="campo">
            <label id="l-city">Ciudad/PaÃ­s</label>
            <input type="text" name="pais" required>
          </div>
          <div class="campo full">
            <label id="l-msg">Mensaje</label>
            <textarea name="mensaje" rows="4"></textarea>
          </div>
          <div class="campo full">
            <button type="submit" class="send-btn" id="btn-submit-txt">Enviar</button>
            <div id="form-status"></div>
          </div>
        </div>
      </form>
    </section>
  </main>
  <footer>
    <div><strong>BridgeMind Games Education</strong> | EspaÃ±a (CET)</div>
    <div>bridgemindgames@gmail.com | WhatsApp: +34 634 268 663</div>
  </footer>
  <script>
    const dictionary = {
      es: {
        t: "BridgeMind Games Education",
        p: "Sistema de Entrenamiento Neuro-LingÃ¼Ã­stico impulsado por IA para el aprendizaje efectivo.",
        v: "esp.mp4",
        i: "esbr.jpg",
        bW: "Agendar Videollamada",
        bI: "Solicitar InformaciÃ³n",
        fH: "Registro de Organizaciones",
        fOrg: "OrganizaciÃ³n",
        fName: "Persona de contacto",
        fMail: "Correo electrÃ³nico",
        fCity: "Ciudad y PaÃ­s",
        fMsg: "Tu consulta",
        fBtn: "Enviar Planilla",
        fOk: "Â¡Recibido!",
        fPhone: "TelÃ©fono",
        fWait: "Enviando...",
        pi: [
          { t: "ðŸŽ® Juegos con IA", d: "DinÃ¡micas gamificadas que integran inteligencia artificial para mejorar el aprendizaje cognitivo y la retenciÃ³n de conocimientos de forma interactiva y medible." },
          { t: "ðŸ§  Retorno Medible", d: "Sistema de mÃ©tricas y analÃ­ticas que permite evaluar el progreso real de los estudiantes con resultados tangibles, reportes detallados y seguimiento continuo del rendimiento acadÃ©mico." },
          { t: "ðŸ« Centros Educativos", d: "SoluciÃ³n completamente adaptable al currÃ­culo escolar actual, integrable en cualquier instituciÃ³n educativa con soporte tÃ©cnico continuo y capacitaciÃ³n para docentes." }
        ]
      },
      en: {
        t: "BridgeMind Games Education",
        p: "AI-powered Neuro-Linguistic Training System for effective learning outcomes.",
        v: "aus.mp4",
        i: "enbr.jpg",
        bW: "Schedule Video Call",
        bI: "Request Information",
        fH: "Organization Registry",
        fOrg: "Institution",
        fName: "Contact Person",
        fMail: "Email",
        fPhone: "Phone",
        fCity: "City and Country",
        fMsg: "Message",
        fBtn: "Submit",
        fOk: "Success!",
        fWait: "Sending...",
        pi: [
          { t: "ðŸŽ® AI Gaming", d: "Gamified dynamics integrating artificial intelligence to enhance cognitive learning and knowledge retention through interactive and measurable experiences." },
          { t: "ðŸ§  Measurable ROI", d: "Metrics and analytics system allowing evaluation of real student progress with tangible results, detailed reports, and continuous academic performance tracking." },
          { t: "ðŸ« Educational Centers", d: "Solution fully adaptable to current school curriculum, integrable in any educational institution with continuous technical support and teacher training." }
        ]
      },
      fr: {
        t: "BridgeMind Games Education",
        p: "SystÃ¨me d'entraÃ®nement neurolinguistique alimentÃ© par l'IA.",
        v: "fra.mp4",
        i: "frbr.jpg",
        bW: "Planifier un appel vidÃ©o",
        bI: "Demander des informations",
        fH: "Enregistrement",
        fOrg: "Ã‰tablissement",
        fName: "Contact",
        fMail: "Email",
        fPhone: "TÃ©lÃ©phone",
        fCity: "Ville",
        fMsg: "Message",
        fBtn: "Envoyer",
        fOk: "ReÃ§u!",
        fWait: "Envoi...",
        pi: [
          { t: "ðŸŽ® Jeux IA", d: "Dynamiques gamifiÃ©es intÃ©grant l'intelligence artificielle pour amÃ©liorer l'apprentissage cognitif et la rÃ©tention des connaissances de maniÃ¨re interactive." },
          { t: "ðŸ§  ROI Mesurable", d: "SystÃ¨me de mÃ©triques permettant d'Ã©valuer les progrÃ¨s rÃ©els des Ã©tudiants avec des rÃ©sultats tangibles et des rapports dÃ©taillÃ©s." },
          { t: "ðŸ« Centres Ã‰ducatifs", d: "Solution adaptable au programme scolaire actuel, intÃ©grable dans toute institution Ã©ducative avec support technique continu." }
        ]
      },
      de: {
        t: "BridgeMind Games Education",
        p: "KI-gestÃ¼tztes neuro-linguistisches Trainingssystem.",
        v: "ale.mp4",
        i: "alebr.jpg",
        bW: "Videoanruf vereinbaren",
        bI: "Informationen anfordern",
        fH: "Registrierung",
        fOrg: "Organisation",
        fName: "Kontakt",
        fMail: "Email",
        fPhone: "Telefon",
        fCity: "Stadt",
        fMsg: "Nachricht",
        fBtn: "Senden",
        fOk: "Gesendet!",
        fWait: "Wird gesendet...",
        pi: [
          { t: "ðŸŽ® KI-Spiele", d: "Gamifizierte Dynamiken mit kÃ¼nstlicher Intelligenz zur Verbesserung des kognitiven Lernens und der Wissensbewahrung." },
          { t: "ðŸ§  Messbarer ROI", d: "Metriken zur Bewertung des realen Fortschritts der SchÃ¼ler mit greifbaren Ergebnissen und detaillierten Berichten." },
          { t: "ðŸ« Bildungszentren", d: "LÃ¶sung anpassbar an den aktuellen Lehrplan, integrierbar in jede Bildungseinrichtung mit kontinuierlicher technischer UnterstÃ¼tzung." }
        ]
      },
      it: {
        t: "BridgeMind Games Education",
        p: "Sistema di formazione neurolinguistica basato sull'IA.",
        v: "ita.mp4",
        i: "itabr.jpg",
        bW: "Pianifica videochiamata",
        bI: "Richiedi informazioni",
        fH: "Registrazione",
        fOrg: "Organizzazione",
        fName: "Contatto",
        fMail: "Email",
        fPhone: "Telefono",
        fCity: "CittÃ ",
        fMsg: "Messaggio",
        fBtn: "Invia",
        fOk: "Ricevuto!",
        fWait: "Invio...",
        pi: [
          { t: "ðŸŽ® Giochi IA", d: "Dinamiche gamificate che integrano l'intelligenza artificiale per migliorare l'apprendimento cognitivo e la ritenzione delle conoscenze." },
          { t: "ðŸ§  ROI Misurabile", d: "Sistema di metriche per valutare il progresso reale degli studenti con risultati tangibili e report dettagliati." },
          { t: "ðŸ« Centri Educativi", d: "Soluzione adattabile al curriculum scolastico attuale, integrabile in qualsiasi istituzione educativa con supporto tecnico continuo." }
        ]
      },
      jp: {
        t: "BridgeMind Games Education",
        p: "AIé§†å‹•åž‹ç¥žçµŒè¨€èªžãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã€‚",
        v: "jpn.mp4",
        i: "jp.jpg",
        bW: "ãƒ“ãƒ‡ã‚ªé€šè©±ã‚’äºˆç´„",
        bI: "æƒ…å ±ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
        fH: "çµ„ç¹”ç™»éŒ²",
        fOrg: "çµ„ç¹”å",
        fName: "æ‹…å½“è€…",
        fMail: "ãƒ¡ãƒ¼ãƒ«",
        fPhone: "é›»è©±",
        fCity: "éƒ½å¸‚",
        fMsg: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
        fBtn: "é€ä¿¡",
        fOk: "å—ä¿¡ï¼",
        fWait: "é€ä¿¡ä¸­...",
        pi: [
          { t: "ðŸŽ® AIã‚²ãƒ¼ãƒ ", d: "èªçŸ¥å­¦ç¿’ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«äººå·¥çŸ¥èƒ½ã‚’çµ±åˆã—ãŸã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ€ã‚¤ãƒŠãƒŸã‚¯ã‚¹ã€‚" },
          { t: "ðŸ§  æ¸¬å®šå¯èƒ½ãªROI", d: "å®Ÿéš›ã®å­¦ç”Ÿã®é€²æ­©ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã€‚" },
          { t: "ðŸ« æ•™è‚²ã‚»ãƒ³ã‚¿ãƒ¼", d: "ç¾åœ¨ã®å­¦æ ¡ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«é©å¿œå¯èƒ½ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã€‚" }
        ]
      },
      ch: {
        t: "BridgeMind Games Education",
        p: "åŸºäºŽäººå·¥æ™ºèƒ½çš„ç¥žç»è¯­è¨€è®­ç»ƒç³»ç»Ÿã€‚",
        v: "chn.mp4",
        i: "shbr.jpg",
        bW: "å®‰æŽ’è§†é¢‘é€šè¯",
        bI: "è¯·æ±‚ä¿¡æ¯",
        fH: "æœºæž„ç™»è®°",
        fOrg: "æœºæž„åç§°",
        fName: "è”ç³»äºº",
        fMail: "ç”µå­é‚®ä»¶",
        fPhone: "ç”µè¯",
        fCity: "åŸŽå¸‚",
        fMsg: "ä¿¡æ¯",
        fBtn: "å‘é€",
        fOk: "å·²æ”¶åˆ°ï¼",
        fWait: "å‘é€ä¸­...",
        pi: [
          { t: "ðŸŽ® AIæ¸¸æˆ", d: "é›†æˆäººå·¥æ™ºèƒ½çš„æ¸¸æˆåŒ–åŠ¨æ€ï¼Œä»¥å¢žå¼ºè®¤çŸ¥å­¦ä¹ å’ŒçŸ¥è¯†ä¿ç•™ã€‚" },
          { t: "ðŸ§  å¯è¡¡é‡çš„æŠ•èµ„å›žæŠ¥", d: "ç”¨äºŽè¯„ä¼°å­¦ç”Ÿå®žé™…è¿›æ­¥çš„æŒ‡æ ‡ç³»ç»Ÿã€‚" },
          { t: "ðŸ« æ•™è‚²ä¸­å¿ƒ", d: "å®Œå…¨é€‚åº”å½“å‰å­¦æ ¡è¯¾ç¨‹çš„è§£å†³æ–¹æ¡ˆã€‚" }
        ]
      },
      ar: {
        t: "BridgeMind Games Education",
        p: "Ù†Ø¸Ø§Ù… ØªØ¯Ø±ÙŠØ¨ Ø¹ØµØ¨ÙŠ Ù„ØºÙˆÙŠ Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.",
        v: "ara.mp4",
        i: "dubr.jpg",
        bW: "Ø¬Ø¯ÙˆÙ„Ø© Ù…ÙƒØ§Ù„Ù…Ø© ÙÙŠØ¯ÙŠÙˆ",
        bI: "Ø·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
        fH: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ù†Ø¸Ù…Ø§Øª",
        fOrg: "Ø§Ù„Ù…Ø¤Ø³Ø³Ø©",
        fName: "Ø§Ù„Ø§ØªØµØ§Ù„",
        fMail: "Ø§Ù„Ø¨Ø±ÙŠØ¯",
        fPhone: "Ù‡Ø§ØªÙ",
        fCity: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",
        fMsg: "Ø±Ø³Ø§Ù„Ø©",
        fBtn: "Ø¥Ø±Ø³Ø§Ù„",
        fOk: "ØªÙ…!",
        fWait: "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...",
        pi: [
          { t: "ðŸŽ® Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", d: "Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Øª Ù…Ù…ØªØ¹Ø© ØªØ¯Ù…Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø¹Ø±ÙÙŠ." },
          { t: "ðŸ§  Ø¹Ø§Ø¦Ø¯ Ø§Ø³ØªØ«Ù…Ø§Ø± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚ÙŠØ§Ø³", d: "Ù†Ø¸Ø§Ù… Ù…Ù‚Ø§ÙŠÙŠØ³ Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨." },
          { t: "ðŸ« Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©", d: "Ø­Ù„ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©." }
        ]
      }
    };

    let currentLang = 'es';
    
    function init() {
      const box = document.getElementById('flag-box');
      const flags = { es:'es', en:'us', fr:'fr', de:'de', it:'it', jp:'jp', ch:'cn', ar:'sa' };
      Object.keys(dictionary).forEach(lang => {
        const btn = document.createElement('button');
        btn.className = `f-btn ${lang === currentLang ? 'active' : ''}`;
        btn.innerHTML = `<span class="flag-icon flag-icon-${flags[lang]}"></span> ${lang.toUpperCase()}`;
        btn.onclick = () => switchLang(lang);
        box.appendChild(btn);
      });
      switchLang('es');
    }

    function switchLang(lang) {
      currentLang = lang;
      const data = dictionary[lang] || dictionary.en;
      
      // Actualizar textos
      document.getElementById('txt-h1').innerText = data.t;
      document.getElementById('txt-p').innerText = data.p;
      document.getElementById('btn-wa-txt').innerText = data.bW;
      document.getElementById('btn-info-txt').innerText = data.bI;
      document.getElementById('f-header-txt').innerText = data.fH;
      document.getElementById('l-org').innerText = data.fOrg;
      document.getElementById('l-name').innerText = data.fName;
      document.getElementById('l-mail').innerText = data.fMail;
      document.getElementById('l-city').innerText = data.fCity;
      document.getElementById('l-msg').innerText = data.fMsg;
      document.getElementById('btn-submit-txt').innerText = data.fBtn;
      document.getElementById('hidden-lang').value = lang;
      document.getElementById('l-phone').innerText = data.fPhone;
      
      // Cambiar imagen (foto 4)
      const imgElement = document.getElementById('img-target');
      if (imgElement) {
        imgElement.src = data.i + '?v=' + Date.now();
        console.log('Imagen cambiada a:', data.i);
      }
      
      // Cambiar video
      const videoSrc = document.getElementById('video-src');
      const videoPlayer = document.getElementById('video-player');
      if (videoSrc && videoPlayer) {
        videoSrc.src = data.v + '?v=' + Date.now();
        videoPlayer.load();
        console.log('Video cambiado a:', data.v);
      }
      
      // Actualizar prefijo telefÃ³nico
      const prefixMap = { es: '+34', en: '+1', fr: '+33', de: '+49', it: '+39', jp: '+81', ch: '+86', ar: '+971' };
      const prefixSelect = document.getElementById('p-prefix');
      if (prefixSelect) {
        prefixSelect.value = prefixMap[lang] || '+34';
      }
      
      // Generar tarjetas (pillars)
      const pBox = document.getElementById('pillar-box');
      if (pBox && data.pi) {
        pBox.innerHTML = '';
        data.pi.forEach(item => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `<h3>${item.t}</h3><p>${item.d}</p>`;
          pBox.appendChild(card);
        });
        console.log('Tarjetas generadas:', data.pi.length);
      }

      // Cambiar direcciÃ³n del texto (para Ã¡rabe)
      document.getElementById('main-body').style.direction = (lang === 'ar') ? 'rtl' : 'ltr';
      
      // Actualizar botones activos
      document.querySelectorAll('.nav-flags .f-btn').forEach(b => {
        const txt = b.innerText.trim().toLowerCase();
        b.classList.toggle('active', txt.includes(lang));
      });
    }

    function toggleForm() {
      const f = document.getElementById('form-wrap');
      const isVisible = f.style.display === 'block';
      f.style.display = isVisible ? 'none' : 'block';
      if (!isVisible) {
        f.scrollIntoView({ behavior: 'smooth' });
      }
    }

    // Manejar envÃ­o del formulario
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
      contactForm.onsubmit = function (e) {
        e.preventDefault();
        const data = dictionary[currentLang] || dictionary.es;
        const status = document.getElementById('form-status');
        const prefijo = document.getElementById('p-prefix').value;
        const telefono = document.getElementById('p-phone').value;
        const telefonoCompleto = prefijo + ' ' + telefono;
        
        let hiddenPhone = document.getElementById('telefono-completo');
        if (!hiddenPhone) {
          hiddenPhone = document.createElement('input');
          hiddenPhone.type = 'hidden';
          hiddenPhone.name = 'telefono_completo';
          hiddenPhone.id = 'telefono-completo';
          this.appendChild(hiddenPhone);
        }
        hiddenPhone.value = telefonoCompleto;

        status.style.display = "block";
        status.innerText = data.fWait;
        status.style.color = "orange";

        fetch(
          "https://script.google.com/macros/s/AKfycbwHd-D2401y7crDq19CRVcR5FspddnkDpN_h7JpGS-n6BDxNU1FZO_ypHE9dsrYl1b5cg/exec",
          {
            method: "POST",
            body: new FormData(this),
            mode: "no-cors"
          }
        )
          .then(() => {
            status.innerText = data.fOk;
            status.style.color = "green";
            this.reset();
            setTimeout(() => {
              status.style.display = "none";
              toggleForm();
            }, 3000);
          })
          .catch(() => {
            status.innerText = "Error al enviar. Intenta de nuevo.";
            status.style.color = "red";
          });
      };
    }

    // Inicializar cuando el DOM estÃ© listo
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
