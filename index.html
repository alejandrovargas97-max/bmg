<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BridgeMind Games Education | Global System</title>

  <!-- Iconos de banderas y Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    :root {
      --blue: #007bff;
      --yellow: #ffc107;
      --dark: #0056b3;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #fff;
      color: #333;
    }

    /* HEADER FIJO */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--blue);
      z-index: 5000;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .logo-box {
      text-align: center;
      padding: 10px 0;
    }

    .logo-box img {
      max-width: 220px;
      transition: 0.3s;
    }

    .nav-flags {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      padding: 8px;
      background: rgba(0,0,0,0.1);
    }

    .f-btn {
      background: #fff;
      border: 1px solid #ddd;
      padding: 5px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .f-btn.active {
      background: var(--yellow);
      font-weight: bold;
      border-color: var(--yellow);
    }

    .spacer {
      height: 170px;
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }

    /* MULTIMEDIA */
    .gallery {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin: 30px 0;
    }

    .gallery img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
    }

    #img-target {
      border: 4px solid var(--blue);
    }

    .v-container {
      background: #000;
      border-radius: 15px;
      overflow: hidden;
      margin: 40px 0;
    }

    video {
      width: 100%;
      max-height: 500px;
      display: block;
    }

    /* PILARES */
    .pillars {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .card {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 12px;
      border-left: 5px solid var(--blue);
      text-align: left;
    }

    /* FORMULARIO */
    #form-wrap {
      display: none;
      background: #fff;
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 10px 50px rgba(0,0,0,0.1);
      margin: 30px auto;
      max-width: 700px;
      text-align: left;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      text-align: left;
    }

    label {
      font-weight: bold;
      font-size: 0.9rem;
      color: var(--blue);
      display: block;
      margin-bottom: 5px;
    }

    input,
    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-sizing: border-box;
    }

    .full {
      grid-column: span 2;
    }

    .send-btn {
      background: #28a745;
      color: #fff;
      border: none;
      padding: 18px;
      border-radius: 30px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.1rem;
    }

    #form-status {
      margin-top: 10px;
      font-size: 0.9rem;
      display: none;
    }

    /* CHATBOT */
    #chat-ui {
      position: fixed;
      bottom: 95px;
      right: 20px;
      width: 330px;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      z-index: 6000;
      border: 1px solid #eee;
      overflow: hidden;
    }

    .chat-h {
      background: var(--blue);
      color: #fff;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
    }

    .chat-b {
      height: 320px;
      overflow-y: auto;
      padding: 15px;
      background: #fdfdfd;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .m {
      padding: 10px;
      border-radius: 12px;
      font-size: 0.9rem;
      max-width: 85%;
    }

    .m.bot {
      align-self: flex-start;
      background: #eee;
      border-left: 3px solid var(--blue);
    }

    .m.user {
      align-self: flex-end;
      background: var(--blue);
      color: #fff;
    }

    .chat-f {
      padding: 10px;
      border-top: 1px solid #eee;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .chat-f input {
      flex: 1;
      padding: 8px 10px;
      border-radius: 20px;
      border: 1px solid #ccc;
      font-size: 0.85rem;
    }

    .chat-f button {
      background: var(--blue);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 34px;
      height: 34px;
      cursor: pointer;
      font-size: 1rem;
    }

    #chat-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 65px;
      height: 65px;
      background: var(--yellow);
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 1.8rem;
      z-index: 6001;
    }

    footer {
      background: #222;
      color: #fff;
      text-align: center;
      padding: 30px;
      margin-top: 50px;
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }

      .gallery {
        grid-template-columns: 1fr 1fr;
      }

      #chat-ui {
        width: 90%;
        right: 5%;
      }
    }
  </style>
</head>
<body id="main-body">
  <!-- HEADER -->
  <header>
    <div class="logo-box">
      <img src="bmg.jpg" alt="BridgeMind Games Education" id="main-logo">
    </div>
    <nav class="nav-flags" id="flag-box"></nav>
  </header>

  <div class="spacer"></div>

  <!-- CONTENIDO PRINCIPAL -->
  <main>
    <h1 id="txt-h1">BridgeMind Games Education</h1>
    <p id="txt-p" style="font-size:1.2rem; color:#666;">
      Sistema Neuro-Ling√º√≠stico con IA
    </p>

    <!-- GALER√çA -->
    <div class="gallery">
      <img src="1.jpeg" alt="Imagen 1">
      <img src="2.jpeg" alt="Imagen 2">
      <img src="3.jpg" alt="Imagen 3">
      <img id="img-target" src="esbr.jpg" alt="Bandera actual">
    </div>

    <!-- VIDEO -->
    <div class="v-container">
      <video id="video-player" controls>
        <source id="video-src" src="esp.mp4" type="video/mp4">
        Tu navegador no soporta video HTML5.
      </video>
    </div>

    <!-- PILARES -->
    <div class="pillars" id="pillar-box"></div>

    <!-- BOTONES CTA -->
    <div style="margin: 40px 0; display:flex; justify-content:center; gap:15px; flex-wrap:wrap;">
      <button
        onclick="window.open('https://wa.me/34634268663')"
        class="f-btn"
        style="padding:15px 30px; background:var(--blue); color:white; border:none;"
        id="btn-wa-txt">
        Videollamada
      </button>

      <button
        onclick="toggleForm()"
        class="f-btn"
        style="padding:15px 30px; background:#28a745; color:white; border:none;"
        id="btn-info-txt">
        M√°s Informaci√≥n
      </button>
    </div>

    <!-- FORMULARIO -->
    <section id="form-wrap">
      <h2 id="f-header-txt">Contacto</h2>

      <form id="contact-form" action="https://script.google.com/macros/s/AKfycbxkC-l5rdeStPM1SsgmQpAzy3L_BGbPo0LMaaGUfVAKaeQWSvsxqH_E_EUHcpieb0hM/exec" method="POST">
        <input type="hidden" name="idioma_origen" id="hidden-lang">

        <div class="grid">
          <div class="campo">
            <label id="l-org">Organizaci√≥n</label>
            <input type="text" name="organizacion" id="p-org" required>
          </div>

          <div class="campo">
            <label id="l-name">Nombre</label>
            <input type="text" name="persona" id="p-name" required>
          </div>

          <div class="campo">
            <label id="l-mail">Email</label>
            <input type="email" name="email" id="p-mail" required>
          </div>

          <div class="campo">
            <label id="l-city">Ciudad/Pa√≠s</label>
            <input type="text" name="pais" id="p-city" required>
          </div>

          <div class="campo full">
            <label id="l-msg">Mensaje</label>
            <textarea name="mensaje" id="p-msg" rows="4"></textarea>
          </div>

          <div class="campo full">
            <button type="submit" class="send-btn" id="btn-submit-txt">
              Enviar Planilla
            </button>
            <div id="form-status"></div>
          </div>
        </div>
      </form>
    </section>
  </main>

  <!-- CHATBOT -->
  <div id="chat-ui">
    <div class="chat-h">
      <span><strong>BridgeMind Assistant</strong></span>
      <button onclick="toggleChat()" style="background:none;border:none;color:#fff;cursor:pointer;">‚úï</button>
    </div>
    <div class="chat-b" id="chat-msgs">
      <!-- Mensaje inicial se inserta por JS -->
    </div>
    <div class="chat-f">
      <input type="text" id="chat-in" placeholder="..." autocomplete="off">
      <button type="button" onclick="handleChat()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

  <!-- BOT√ìN FLOTANTE CHAT -->
  <button id="chat-btn" onclick="toggleChat()">
    <i class="fas fa-comments"></i>
  </button>

  <!-- FOOTER -->
  <footer>
    <div><strong>BridgeMind Games Education</strong> | Espa√±a (CET)</div>
    <div>bridgemindgames@gmail.com | WhatsApp: +34 634 268 663</div>
  </footer>

  <!-- L√ìGICA JS -->
  <script>
    const dictionary = {
      es: {
        t: "BridgeMind Games Education",
        p: "Sistema de Entrenamiento Neuro-Ling√º√≠stico impulsado por IA.",
        v: "esp.mp4",
        i: "esbr.jpg",
        bW: "Agendar Videollamada",
        bI: "Solicitar Informaci√≥n",
        fH: "Registro de Organizaciones",
        fOrg: "Organizaci√≥n",
        fName: "Persona de contacto",
        fMail: "Correo electr√≥nico",
        fCity: "Ciudad y Pa√≠s",
        fMsg: "Tu consulta...",
        fBtn: "Enviar Planilla ahora",
        fOk: "¬°Recibido! Ver√°s los datos en tu planilla.",
        fWait: "Enviando...",
        pi: [
          { t: "üéÆ Juego IA", d: "Din√°micas cognitivas." },
          { t: "üß† Retorno", d: "Resultados medibles." },
          { t: "üè´ Centros", d: "Adaptaci√≥n curricular." }
        ],
        hi: "¬°Hola! ¬øQuieres saber sobre: pilares, precio o contacto?",
        ph: "Escribe...",
        no: "No entiendo, habla con mi creador en Espa√±a:",
        keys: [
          {
            k: ["precio", "cuanto"],
            r: "Los precios dependen del n√∫mero de alumnos. Usa el formulario."
          }
        ]
      },
      en: {
        t: "BridgeMind Games Education",
        p: "AI-powered Neuro-Linguistic Training System for learning.",
        v: "aus.mp4",
        i: "enbr.jpg",
        bW: "Schedule Video Call",
        bI: "Request Information",
        fH: "Organization Registry",
        fOrg: "Institution Name",
        fName: "Contact Person",
        fMail: "Email",
        fCity: "City and Country",
        fMsg: "Tell us more...",
        fBtn: "Submit to Sheet",
        fOk: "Success! Data sent to sheet.",
        fWait: "Sending...",
        pi: [
          { t: "üéÆ AI Gaming", d: "Cognitive dynamics." },
          { t: "üß† ROI", d: "Measurable progress." },
          { t: "üè´ Schools", d: "Curriculum ready." }
        ],
        hi: "Hello! Ask me about: pillars, pricing or contact.",
        ph: "Type here...",
        no: "I don't know, but you can talk to our founder in Spain:",
        keys: [
          {
            k: ["price", "cost"],
            r: "Pricing is custom. Please fill the contact form."
          }
        ]
      },
      fr: {
        t: "BridgeMind Education",
        p: "Syst√®me d'entra√Ænement IA.",
        v: "fra.mp4",
        i: "frbr.jpg",
        fH: "Contact Organisation",
        fOrg: "√âtablissement",
        fName: "Contact",
        fMail: "Email",
        fCity: "Ville",
        fMsg: "Message",
        fBtn: "Envoyer",
        hi: "Bonjour!",
        ph: "√âcrire...",
        no: "Contactez-nous en Espagne:",
        pi: [
          { t: "üéÆ Jeux IA", d: "Cognitif." }
        ]
      },
      de: {
        t: "BridgeMind Bildung",
        p: "KI-System.",
        v: "ale.mp4",
        i: "alebr.jpg",
        fH: "Kontakt",
        fOrg: "Organisation",
        fName: "Name",
        fMail: "Email",
        fCity: "Stadt",
        fMsg: "Nachricht",
        fBtn: "Senden",
        hi: "Hallo!",
        ph: "Schreiben...",
        no: "Kontakt in Spanien:",
        pi: []
      },
      jp: {
        t: "BridgeMind Games ÊïôËÇ≤",
        p: "AIÁ•ûÁµåË®ÄË™û„Éà„É¨„Éº„Éã„É≥„Ç∞„ÄÇ",
        v: "jpn.mp4",
        i: "jp.jpg",
        fH: "ÁµÑÁπîÁôªÈå≤",
        fOrg: "ÁµÑÁπîÂêç",
        fName: "ÊãÖÂΩìËÄÖ",
        fMail: "„É°„Éº„É´",
        fCity: "ÈÉΩÂ∏Ç",
        fMsg: "„É°„ÉÉ„Çª„Éº„Ç∏",
        fBtn: "ÈÄÅ‰ø°",
        hi: "„Åì„Çì„Å´„Å°„ÅØÔºÅ",
        ph: "ÂÖ•Âäõ...",
        no: "„Çπ„Éö„Ç§„É≥„ÅÆÊãÖÂΩìËÄÖ„Å´ÈÄ£Áµ°„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö",
        pi: []
      },
      ch: {
        t: "BridgeMind Games ÊïôËÇ≤",
        p: "‰∫∫Â∑•Êô∫ËÉΩÁ•ûÁªèËØ≠Ë®ÄËÆ≠ÁªÉ„ÄÇ",
        v: "chn.mp4",
        i: "shbr.jpg",
        fH: "Êú∫ÊûÑÁôªËÆ∞",
        fOrg: "Êú∫ÊûÑÂêçÁß∞",
        fName: "ËÅîÁ≥ª‰∫∫",
        fMail: "ÁîµÂ≠êÈÇÆ‰ª∂",
        fCity: "ÂüéÂ∏Ç",
        fMsg: "‰ø°ÊÅØ",
        fBtn: "ÂèëÈÄÅ",
        hi: "‰Ω†Â•ΩÔºÅ",
        ph: "ËæìÂÖ•...",
        no: "ËÅîÁ≥ªÊàë‰ª¨Âú®Ë•øÁè≠ÁâôÁöÑË¥üË¥£‰∫∫Ôºö",
        pi: []
      },
      ar: {
        t: "BridgeMind ÿßŸÑÿ™ÿπŸÑŸäŸÖ",
        p: "ŸÜÿ∏ÿßŸÖ ÿ∞ŸÉŸä.",
        v: "ara.mp4",
        i: "dubr.jpg",
        fH: "ÿßÿ™ÿµÿßŸÑ",
        fOrg: "ÿßŸÑŸÖÿ§ÿ≥ÿ≥ÿ©",
        fName: "ÿßŸÑÿßÿ≥ŸÖ",
        fMail: "ÿßŸÑÿßŸäŸÖŸäŸÑ",
        fCity: "ÿßŸÑŸÖÿØŸäŸÜÿ©",
        fMsg: "ÿ±ÿ≥ÿßŸÑÿ©",
        fBtn: "ÿ•ÿ±ÿ≥ÿßŸÑ",
        hi: "ŸÖÿ±ÿ≠ÿ®ÿßŸã!",
        ph: "ÿßŸÉÿ™ÿ®...",
        no: "ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß ŸÅŸä ÿ•ÿ≥ÿ®ÿßŸÜŸäÿß:",
        pi: []
      }
    };

    let currentLang = 'es';

    function init() {
      const box = document.getElementById('flag-box');
      const flags = { es:'es', en:'us', fr:'fr', de:'de', it:'it', jp:'jp', ch:'cn', ar:'sa' };

      Object.keys(dictionary).forEach(lang => {
        const btn = document.createElement('button');
        btn.className = `f-btn ${lang === currentLang ? 'active' : ''}`;
        btn.innerHTML = `<span class="flag-icon flag-icon-${flags[lang]}"></span> ${lang.toUpperCase()}`;
        btn.onclick = () => switchLang(lang);
        box.appendChild(btn);
      });

      switchLang('es');
    }

    function switchLang(lang) {
      currentLang = lang;
      const data = dictionary[lang] || dictionary.en;

      // Textos p√°gina
      document.getElementById('txt-h1').innerText = data.t;
      document.getElementById('txt-p').innerText = data.p;
      document.getElementById('btn-wa-txt').innerText = data.bW || "Call";
      document.getElementById('btn-info-txt').innerText = data.bI || "Info";

      // Formulario
      document.getElementById('f-header-txt').innerText = data.fH;
      document.getElementById('l-org').innerText = data.fOrg;
      document.getElementById('l-name').innerText = data.fName;
      document.getElementById('l-mail').innerText = data.fMail;
      document.getElementById('l-city').innerText = data.fCity;
      document.getElementById('l-msg').innerText = data.fMsg;
      document.getElementById('btn-submit-txt').innerText = data.fBtn;
      document.getElementById('hidden-lang').value = lang;

      // Multimedia
      document.getElementById('img-target').src = data.i;
      const player = document.getElementById('video-player');
      document.getElementById('video-src').src = data.v;
      player.load();

      // Pilares
      const pBox = document.getElementById('pillar-box');
      pBox.innerHTML = '';
      (data.pi && data.pi.length > 0 ? data.pi : dictionary.es.pi).forEach(item => {
        pBox.innerHTML += `<div class="card"><h3>${item.t}</h3><p>${item.d}</p></div>`;
      });

      // Chatbot
      document.getElementById('chat-in').placeholder = data.ph;
      document.getElementById('chat-msgs').innerHTML =
        `<div class="m bot">${data.hi}</div>`;

      // Estilos RTL para √°rabe
      document.getElementById('main-body').style.direction = (lang === 'ar') ? 'rtl' : 'ltr';

      // Estado activo de banderas
      document.querySelectorAll('.nav-flags .f-btn').forEach(b => {
        const txt = b.innerText.trim().toLowerCase();
        b.classList.toggle('active', txt.includes(lang));
      });
    }

    function toggleForm() {
      const f = document.getElementById('form-wrap');
      const isVisible = f.style.display === 'block';
      f.style.display = isVisible ? 'none' : 'block';
      if (!isVisible) {
        f.scrollIntoView({ behavior: 'smooth' });
      }
    }

    // Env√≠o a Google Apps Script
    document.getElementById('contact-form').onsubmit = function (e) {
      e.preventDefault();
      const data = dictionary[currentLang] || dictionary.es;
      const status = document.getElementById('form-status');

      status.style.display = "block";
      status.innerText = data.fWait;
      status.style.color = "orange";

      fetch(
        "https://script.google.com/macros/s/AKfycbxkC-I5rdeStPM1SsgmQpAzy3I_BGbPo0LMaaGUfVAKaeQWSvsxqH_E_EUHcpieb0hM/exec",
        {
          method: "POST",
          body: new FormData(this),
          mode: "no-cors"
        }
      )
        .then(() => {
          status.innerText = data.fOk;
          status.style.color = "green";
          this.reset();
          setTimeout(() => {
            status.style.display = "none";
            toggleForm();
          }, 3000);
        })
        .catch(() => {
          status.innerText = "Error al enviar. Intenta de nuevo.";
          status.style.color = "red";
        });
    };

    function toggleChat() {
      const ui = document.getElementById('chat-ui');
      ui.style.display = (ui.style.display === 'flex') ? 'none' : 'flex';
    }

    function handleChat() {
      const input = document.getElementById('chat-in');
      const msgs = document.getElementById('chat-msgs');
      const val = input.value.trim();

      if (!val) return;

      msgs.innerHTML += `<div class="m user">${val}</div>`;
      input.value = '';

      setTimeout(() => {
        const low = val.toLowerCase();
        const data = dictionary[currentLang] || dictionary.en;
        let reply = data.no;

        if (data.keys) {
          for (let item of data.keys) {
            if (item.k.some(k => low.includes(k))) {
              reply = item.r;
              break;
            }
          }
        }

        msgs.innerHTML += `<div class="m bot">${reply}</div>`;

        if (reply === data.no) {
          msgs.innerHTML += `
            <a href="https://wa.me/34634268663"
               target="_blank"
               style="display:block; background:#25d366; color:white; padding:8px;
                      border-radius:5px; text-align:center; text-decoration:none; margin-top:5px;">
              WhatsApp
            </a>`;
        }

        msgs.scrollTop = msgs.scrollHeight;
      }, 600);
    }

    document.getElementById('chat-in').onkeypress = (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        handleChat();
      }
    };

    // Inicializar
    init();
  </script>
</body>
</html>




