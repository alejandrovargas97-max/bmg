<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BridgeMind Education</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {font-family: Arial; margin:0; background:#fff; color:#333; padding-top: 155px !important;}
        
        header {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            z-index: 1000 !important;
            background: #007bff !important;
            color: white !important;
            padding: 15px 0 !important;
            text-align: center !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
        }
        
        header.scrolled {
            padding: 8px 0 !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2) !important;
        }
        
        .logo {max-width:250px; height:auto; margin-bottom:10px; transition: all 0.3s ease;}
        header.scrolled .logo {max-width:200px; margin-bottom:5px;}
        
        .banderas {display:flex; justify-content:center; gap:8px; flex-wrap:wrap; margin:15px; transition: all 0.3s ease;}
        header.scrolled .banderas {margin:8px; gap:6px;}
        
        .bandera {background:#0056b3; color:white; border:none; padding:8px 12px; border-radius:4px; cursor:pointer; transition: all 0.3s ease;}
        header.scrolled .bandera {padding:6px 10px; font-size:14px;}
        .bandera:hover {background:#003d80;}
        
        main {max-width:900px; margin:20px auto; padding:20px; background:white; box-shadow:0 0 10px rgba(0,0,0,0.1); border-radius:8px;}
        h1 {color:#007bff; text-align:center;}
        .imagenes {display:flex; justify-content:center; gap:15px; margin:30px 0; flex-wrap:wrap;}
        .imagenes img {width:180px; height:120px; object-fit:cover; border-radius:8px; border:2px solid #ddd;}
        .video-container {text-align:center; margin:30px 0;}
        video {max-width:100%; border-radius:8px;}
        .pilares {display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin:30px 0;}
        .pilar {background:#f8f9fa; padding:15px; border-radius:8px; border-left:4px solid #007bff;}
        .formulario {background:#f8f9fa; padding:25px; border-radius:10px; margin-top:30px;}
        .campo {margin-bottom:15px;}
        label {display:block; font-weight:bold; margin-bottom:5px;}
        input, select, textarea {width:100%; padding:10px; border:1px solid #ccc; border-radius:4px;}
        button {background:#28a745; color:white; border:none; padding:12px; width:100%; border-radius:5px; font-size:16px; cursor:pointer;}
        button:disabled {background:#cccccc; cursor:not-allowed;}
        #mensaje {padding:12px; margin:15px 0; border-radius:5px; display:none;}
        .exito {background:#d4edda; color:#155724;}
        .error {background:#f8d7da; color:#721c24;}
        footer {text-align:center; padding:25px; background:#333; color:white; margin-top:40px;}
        @media (max-width:768px) {
            .pilares {grid-template-columns:1fr;}
            .imagenes img {width:45%;}
            body {padding-top: 160px !important;}
            header.scrolled .logo {max-width:180px;}
        }
    </style>
</head>
<body>
    <header id="mainHeader">
        <img src="logo.png" alt="BridgeMind Logo" class="logo">
        <div class="banderas">
            <button class="bandera" onclick="cambiarIdioma('es')"><span class="flag-icon flag-icon-es"></span> ES</button>
            <button class="bandera" onclick="cambiarIdioma('en')"><span class="flag-icon flag-icon-gb"></span> EN</button>
            <button class="bandera" onclick="cambiarIdioma('fr')"><span class="flag-icon flag-icon-fr"></span> FR</button>
            <button class="bandera" onclick="cambiarIdioma('de')"><span class="flag-icon flag-icon-de"></span> DE</button>
            <button class="bandera" onclick="cambiarIdioma('it')"><span class="flag-icon flag-icon-it"></span> IT</button>
            <button class="bandera" onclick="cambiarIdioma('jp')"><span class="flag-icon flag-icon-jp"></span> JP</button>
            <button class="bandera" onclick="cambiarIdioma('zh')"><span class="flag-icon flag-icon-cn"></span> ZH</button>
            <button class="bandera" onclick="cambiarIdioma('ar')"><span class="flag-icon flag-icon-sa"></span> AR</button>
        </div>
    </header>

    <main>
        <h1 id="titulo">Aprenda Idiomas con Juegos Mentales</h1>
        <p id="descripcion" style="text-align:center;">Neuro-LingÃ¼Ã­stica e IA para todas las edades.</p>
        
        <div class="imagenes">
            <img src="1.jpeg" alt="Juegos de niÃ±os" id="img1">
            <img src="2.jpeg" alt="Juegos de adultos" id="img2">
            <img src="3.jpg" alt="Collage de educaciÃ³n" id="img3">
            <img src="esbr.jpg" alt="EspaÃ±a" id="img4">
        </div>
        
        <div class="video-container">
            <video controls id="videoPrincipal">
                <source id="videoSrc" src="esp.mp4" type="video/mp4">
                Tu navegador no soporta video.
            </video>
            <p id="mensajeVideo" style="display:none; color:#856404;">Video no disponible</p>
        </div>
        
        <div class="pilares">
            <div class="pilar"><h3 id="pilar1">ğŸ® Juego Activo e IA</h3><p id="texto1">La IA adapta la dificultad en tiempo real.</p></div>
            <div class="pilar"><h3 id="pilar2">ğŸ§  Retorno Cognitivo</h3><p id="texto2">Mejora medible en memoria y lÃ³gica.</p></div>
            <div class="pilar"><h3 id="pilar3">ğŸ« Para Centros Educativos</h3><p id="texto3">Herramientas de diagnÃ³stico valiosas.</p></div>
        </div>
        
        <div class="formulario">
            <h2 id="tituloForm">Contacto para organizaciones</h2>
            <div id="mensaje"></div>
            <form id="formularioBridgeMind">
                <!-- Campo oculto para idioma -->
                <input type="hidden" name="idioma" id="idiomaActual" value="es">
                
                <!-- Campos del formulario -->
                <div class="campo"><label id="label1">OrganizaciÃ³n *</label><input name="organizacion" type="text" id="organizacion" required></div>
                <div class="campo"><label id="label2">Sector *</label>
                    <select name="sector" id="sector" required><option value="">-- Seleccione --</option>
                        <option value="edu">EducaciÃ³n</option><option value="tech">TecnologÃ­a</option>
                        <option value="salud">Salud</option><option value="otros">Otros</option>
                    </select>
                </div>
                <div class="campo"><label id="label3">Empleados *</label><input name="empleados" type="number" id="empleados" required></div>
                <div class="campo"><label id="label4">PaÃ­s *</label><input name="pais" type="text" id="pais" required></div>
                <div class="campo"><label id="label5">Contacto *</label><input name="contacto" type="text" id="contacto" required></div>
                <div class="campo"><label id="label6">Email *</label><input name="email" type="email" id="email" required></div>
                <div class="campo"><label id="label7">TelÃ©fono</label><input name="telefono" type="tel" id="telefono"></div>
                <div class="campo"><label id="label8">Comentarios</label><textarea name="comentarios" id="comentarios" rows="3"></textarea></div>
                
                <!-- BotÃ³n que llama a nuestra funciÃ³n -->
                <button type="button" onclick="enviarFormulario()" id="botonEnviar">Enviar consulta</button>
            </form>
        </div>
    </main>

    <footer>
        <p id="contactoFooter">Contacto: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663</p>
        <p>BridgeMind Education Â© 2024</p>
    </footer>

    <!-- CHATBOT -->
    <script>
        window.botpressWebChat.init({
            host: 'https://cdn.botpress.cloud/webchat/v2',
            botId: '1e648085-d4da-43ea-bc5d-2b6e4b0aa88a',
            clientId: '1e648085-d4da-43ea-bc5d-2b6e4b0aa88a',
            theme: {
                primaryColor: '#007bff',
                secondaryColor: '#0056b3',
                backgroundColor: '#ffffff'
            },
            position: 'bottom-right',
            persistentMenu: ['preguntas-frecuentes', 'agendar-cita', 'juego-demo'],
            language: 'auto'
        });
    </script>
    <script src="https://cdn.botpress.cloud/webchat/v2/js/botpress.js"></script>

    <script>
        // ========== HEADER FIJO ==========
        window.addEventListener('DOMContentLoaded', function() {
            const header = document.getElementById('mainHeader');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        });
        
        // ========== TRADUCCIONES ==========
        const traducciones = {
            es: {
                titulo: "Aprenda Idiomas con Juegos Mentales: Neuro-LingÃ¼Ã­stica e IA",
                desc: "El primer sistema de Entrenamiento Neuro-LingÃ¼Ã­stico impulsado por IA.",
                pilar1: "ğŸ® Juego Activo e IA", texto1: "La IA adapta la dificultad en tiempo real.",
                pilar2: "ğŸ§  Retorno Cognitivo", texto2: "Mejora medible en memoria y lÃ³gica.",
                pilar3: "ğŸ« Para Centros Educativos", texto3: "Herramientas de diagnÃ³stico valiosas.",
                tituloForm: "Contacto para organizaciones",
                label1: "OrganizaciÃ³n", label2: "Sector", label3: "Empleados", label4: "PaÃ­s",
                label5: "Contacto", label6: "Email", label7: "TelÃ©fono", label8: "Comentarios",
                boton: "Enviar consulta", contactoFooter: "Contacto: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "esp.mp4", img4: "esbr.jpg"
            },
            en: {
                titulo: "Learn Languages with Mind Games: Neuro-Linguistics and AI",
                desc: "First AI-powered Neuro-Linguistic Training system.",
                pilar1: "ğŸ® Active Play & AI", texto1: "AI adapts difficulty in real-time.",
                pilar2: "ğŸ§  Cognitive Return", texto2: "Measurable improvement in memory.",
                pilar3: "ğŸ« For Educational Centers", texto3: "Valuable diagnostic tools.",
                tituloForm: "Contact for organizations",
                label1: "Organization", label2: "Sector", label3: "Employees", label4: "Country",
                label5: "Contact", label6: "Email", label7: "Phone", label8: "Comments",
                boton: "Send inquiry", contactoFooter: "Contact: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "aus.mp4", img4: "enbr.jpg"
            },
            fr: {
                titulo: "Apprenez des langues avec des jeux cÃ©rÃ©braux",
                desc: "Premier systÃ¨me d'EntraÃ®nement Neuro-Linguistique avec IA.",
                pilar1: "ğŸ® Jeu Actif & IA", texto1: "L'IA adapte la difficultÃ© en temps rÃ©el.",
                pilar2: "ğŸ§  Retour Cognitif", texto2: "AmÃ©lioration mesurable de la mÃ©moire.",
                pilar3: "ğŸ« Pour les Centres Ã‰ducatifs", texto3: "Outils de diagnostic prÃ©cieux.",
                tituloForm: "Contact pour organisations",
                label1: "Organisation", label2: "Secteur", label3: "EmployÃ©s", label4: "Pays",
                label5: "Contact", label6: "Email", label7: "TÃ©lÃ©phone", label8: "Commentaires",
                boton: "Envoyer demande", contactoFooter: "Contact : bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "fra.mp4", img4: "frbr.jpg"
            },
            de: {
                titulo: "Sprachen lernen mit Gedankenspielen",
                desc: "Erstes KI-gestÃ¼tztes Neuro-Linguistisches Training.",
                pilar1: "ğŸ® Aktives Spiel & KI", texto1: "KI passt Schwierigkeit in Echtzeit an.",
                pilar2: "ğŸ§  Kognitiver Ertrag", texto2: "Messbare Verbesserung des GedÃ¤chtnisses.",
                pilar3: "ğŸ« FÃ¼r Bildungseinrichtungen", texto3: "Wertvolle Diagnosewerkzeuge.",
                tituloForm: "Kontakt fÃ¼r Organisationen",
                label1: "Organisation", label2: "Branche", label3: "Mitarbeiter", label4: "Land",
                label5: "Kontakt", label6: "E-Mail", label7: "Telefon", label8: "Kommentare",
                boton: "Anfrage senden", contactoFooter: "Kontakt: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "ale.mp4", img4: "alebr.jpg"
            },
            it: {
                titulo: "Imparare le lingue con giochi mentali",
                desc: "Primo sistema di Allenamento Neuro-Linguistico con IA.",
                pilar1: "ğŸ® Gioco Attivo & IA", texto1: "IA adatta difficoltÃ  in tempo reale.",
                pilar2: "ğŸ§  Ritorno Cognitivo", texto2: "Miglioramento misurabile della memoria.",
                pilar3: "ğŸ« Per Centri Educativi", texto3: "Strumenti diagnostici preziosi.",
                tituloForm: "Contatto per organizzazioni",
                label1: "Organizzazione", label2: "Settore", label3: "Dipendenti", label4: "Paese",
                label5: "Contatto", label6: "Email", label7: "Telefono", label8: "Commenti",
                boton: "Invia richiesta", contactoFooter: "Contatto: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "ita.mp4", img4: "itabr.jpg"
            },
            jp: {
                titulo: "é ­è„³ã‚²ãƒ¼ãƒ ã§è¨€èªã‚’å­¦ã¶",
                desc: "AIã‚’æ´»ç”¨ã—ãŸç¥çµŒè¨€èªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã€‚",
                pilar1: "ğŸ® ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚²ãƒ¼ãƒ ï¼†AI", texto1: "AIãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§é›£æ˜“åº¦èª¿æ•´ã€‚",
                pilar2: "ğŸ§  èªçŸ¥çš„ãƒªã‚¿ãƒ¼ãƒ³", texto2: "è¨˜æ†¶åŠ›ã®æ¸¬å®šå¯èƒ½ãªå‘ä¸Šã€‚",
                pilar3: "ğŸ« æ•™è‚²æ©Ÿé–¢å‘ã‘", texto3: "è²´é‡ãªè¨ºæ–­ãƒ„ãƒ¼ãƒ«ã€‚",
                tituloForm: "çµ„ç¹”å‘ã‘ãŠå•ã„åˆã‚ã›",
                label1: "çµ„ç¹”", label2: "ã‚»ã‚¯ã‚¿ãƒ¼", label3: "å¾“æ¥­å“¡", label4: "å›½",
                label5: "é€£çµ¡å…ˆ", label6: "ãƒ¡ãƒ¼ãƒ«", label7: "é›»è©±", label8: "ã‚³ãƒ¡ãƒ³ãƒˆ",
                boton: "ãŠå•ã„åˆã‚ã›", contactoFooter: "ãŠå•ã„åˆã‚ã›: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "jpn.mp4", img4: "jpnbrg.jpg"
            },
            zh: {
                titulo: "é€šè¿‡æ™ºåŠ›æ¸¸æˆå­¦ä¹ è¯­è¨€",
                desc: "é¦–ä¸ªAIé©±åŠ¨çš„ç¥ç»è¯­è¨€è®­ç»ƒç³»ç»Ÿã€‚",
                pilar1: "ğŸ® ä¸»åŠ¨æ¸¸æˆä¸AI", texto1: "AIå®æ—¶è°ƒæ•´éš¾åº¦ã€‚",
                pilar2: "ğŸ§  è®¤çŸ¥å›æŠ¥", texto2: "è®°å¿†åŠ›å¯æµ‹é‡æé«˜ã€‚",
                pilar3: "ğŸ« é’ˆå¯¹æ•™è‚²ä¸­å¿ƒ", texto3: "æœ‰ä»·å€¼çš„è¯Šæ–­å·¥å…·ã€‚",
                tituloForm: "ç»„ç»‡è”ç³»",
                label1: "ç»„ç»‡", label2: "è¡Œä¸š", label3: "å‘˜å·¥", label4: "å›½å®¶",
                label5: "è”ç³»äºº", label6: "é‚®ç®±", label7: "ç”µè¯", label8: "è¯„è®º",
                boton: "å‘é€å’¨è¯¢", contactoFooter: "è”ç³»æ–¹å¼: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "chn.mp4", img4: "shbr.jpg"
            },
            ar: {
                titulo: "ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ§Øª Ø¨Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ù‚Ù„",
                desc: "Ø£ÙˆÙ„ Ù†Ø¸Ø§Ù… ØªØ¯Ø±ÙŠØ¨ Ù„ØºÙˆÙŠ Ø¹ØµØ¨ÙŠ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.",
                pilar1: "ğŸ® Ù„Ø¹Ø¨ Ù†Ø´Ø· ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", texto1: "ÙŠØ¹Ø¯Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ.",
                pilar2: "ğŸ§  Ø¹Ø§Ø¦Ø¯ Ù…Ø¹Ø±ÙÙŠ", texto2: "ØªØ­Ø³Ù† Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚ÙŠØ§Ø³ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©.",
                pilar3: "ğŸ« Ù„Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©", texto3: "Ø£Ø¯ÙˆØ§Øª ØªØ´Ø®ÙŠØµ Ù‚ÙŠÙ…Ø©.",
                tituloForm: "Ø§ØªØµØ§Ù„ Ù„Ù„Ù…Ù†Ø¸Ù…Ø§Øª",
                label1: "Ù…Ù†Ø¸Ù…Ø©", label2: "Ù‚Ø·Ø§Ø¹", label3: "Ù…ÙˆØ¸ÙÙŠÙ†", label4: "Ø¨Ù„Ø¯",
                label5: "Ø§ØªØµØ§Ù„", label6: "Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", label7: "Ù‡Ø§ØªÙ", label8: "ØªØ¹Ù„ÙŠÙ‚Ø§Øª",
                boton: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ø³ØªÙØ³Ø§Ø±", contactoFooter: "Ù„Ù„ØªÙˆØ§ØµÙ„: bridgemindgames@gmail.com | WhatsApp: +34 634 268 663",
                video: "ara.mp4", img4: "dubr.jpg"
            }
        };

        // ========== CAMBIAR IDIOMA ==========
        function cambiarIdioma(idioma) {
            const t = traducciones[idioma];
            
            // Textos
            document.getElementById('titulo').textContent = t.titulo;
            document.getElementById('descripcion').textContent = t.desc;
            document.getElementById('pilar1').textContent = t.pilar1;
            document.getElementById('texto1').textContent = t.texto1;
            document.getElementById('pilar2').textContent = t.pilar2;
            document.getElementById('texto2').textContent = t.texto2;
            document.getElementById('pilar3').textContent = t.pilar3;
            document.getElementById('texto3').textContent = t.texto3;
            document.getElementById('tituloForm').textContent = t.tituloForm;
            document.getElementById('label1').textContent = t.label1 + " *";
            document.getElementById('label2').textContent = t.label2 + " *";
            document.getElementById('label3').textContent = t.label3 + " *";
            document.getElementById('label4').textContent = t.label4 + " *";
            document.getElementById('label5').textContent = t.label5 + " *";
            document.getElementById('label6').textContent = t.label6 + " *";
            document.getElementById('label7').textContent = t.label7;
            document.getElementById('label8').textContent = t.label8;
            document.getElementById('botonEnviar').textContent = t.boton;
            document.getElementById('contactoFooter').textContent = t.contactoFooter;
            
            // Actualizar campo oculto de idioma
            document.getElementById('idiomaActual').value = idioma;
            
            // Video
            const video = document.getElementById('videoPrincipal');
            const src = document.getElementById('videoSrc');
            const msg = document.getElementById('mensajeVideo');
            if (t.video) {
                src.src = t.video;
                video.load();
                video.style.display = 'block';
                msg.style.display = 'none';
            } else {
                video.style.display = 'none';
                msg.style.display = 'block';
            }
            
            // Cambiar 4Âª imagen segÃºn idioma
            document.getElementById('img4').src = t.img4;
            document.getElementById('img4').alt = idioma.toUpperCase();
            
            // DirecciÃ³n Ã¡rabe
            if (idioma === 'ar') {
                document.body.style.direction = 'rtl';
                document.body.style.textAlign = 'right';
            } else {
                document.body.style.direction = 'ltr';
                document.body.style.textAlign = 'left';
            }
            
            localStorage.setItem('idioma', idioma);
        }

        // ========== ENVIAR FORMULARIO A GOOGLE SHEETS ==========
        // âš ï¸ IMPORTANTE: REEMPLAZA ESTA URL CON LA TUYA âš ï¸
        const URL_GOOGLE_SCRIPT = "https://script.google.com/macros/s/AKfycb.../exec";

        async function enviarFormulario() {
            const formulario = document.getElementById('formularioBridgeMind');
            const mensaje = document.getElementById('mensaje');
            const boton = document.getElementById('botonEnviar');
            const idioma = localStorage.getItem('idioma') || 'es';
            
            // 1. Verificar campos obligatorios
            const camposRequeridos = ['organizacion', 'sector', 'empleados', 'pais', 'contacto', 'email'];
            for (let campo of camposRequeridos) {
                const input = document.getElementById(campo);
                if (!input.value.trim()) {
                    mostrarError("âŒ Complete todos los campos obligatorios (*)");
                    input.focus();
                    return;
                }
            }
            
            // 2. Verificar email
            const email = document.getElementById('email').value;
            if (!email.includes('@') || !email.includes('.')) {
                mostrarError("âŒ Ingrese un email vÃ¡lido");
                return;
            }
            
            // 3. Cambiar estado del botÃ³n
            boton.textContent = "Enviando...";
            boton.disabled = true;
            
            // 4. Preparar datos
            const datos = {
                organizacion: document.getElementById('organizacion').value,
                sector: document.getElementById('sector').value,
                empleados: document.getElementById('empleados').value,
                pais: document.getElementById('pais').value,
                contacto: document.getElementById('contacto').value,
                email: email,
                telefono: document.getElementById('telefono').value || "",
                comentarios: document.getElementById('comentarios').value || "",
                idioma: idioma
            };
            
            // 5. Enviar a Google Sheets
            try {
                // Enviar datos
                await fetch(URL_GOOGLE_SCRIPT, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(datos)
                });
                
                // 6. Mostrar Ã©xito con ID generado
                const idNumero = Math.floor(Math.random() * 900) + 100;
                const idMostrar = "BM-" + idNumero;
                
                mensaje.innerHTML = `
                    <div style="background: #d4edda; color: #155724; padding: 15px; border-radius: 5px; border-left: 4px solid #28a745;">
                        <strong>âœ… Â¡FORMULARIO ENVIADO CON Ã‰XITO!</strong><br><br>
                        ğŸ“‹ <strong>ID de registro:</strong> ${idMostrar}<br>
                        ğŸ“… <strong>Fecha:</strong> ${new Date().toLocaleDateString()}<br>
                        ğŸŒ <strong>Idioma:</strong> ${idioma.toUpperCase()}<br><br>
                        <small>Los datos se guardaron en Google Sheets. Pronto recibirÃ¡s un correo de confirmaciÃ³n.</small>
                    </div>
                `;
                mensaje.className = "exito";
                mensaje.style.display = "block";
                
                // 7. Limpiar formulario
                formulario.reset();
                
                // 8. TambiÃ©n enviar por correo (FormSubmit)
                enviarCorreo(datos, idMostrar);
                
            } catch (error) {
                mostrarError("âŒ Error al enviar. Por favor, intente nuevamente.");
                console.error("Error:", error);
            }
            
            // 9. Restaurar botÃ³n
            setTimeout(() => {
                boton.textContent = traducciones[idioma].boton;
                boton.disabled = false;
            }, 3000);
            
            // 10. Ocultar mensaje despuÃ©s de 8 segundos
            setTimeout(() => {
                mensaje.style.display = "none";
            }, 8000);
        }

        // FunciÃ³n auxiliar para mostrar errores
        function mostrarError(texto) {
            const mensaje = document.getElementById('mensaje');
            mensaje.textContent = texto;
            mensaje.className = "error";
            mensaje.style.display = "block";
        }

        // FunciÃ³n para enviar correo vÃ­a FormSubmit
        function enviarCorreo(datos, idMostrar) {
            // Crear formulario temporal
            const formTemp = document.createElement('form');
            formTemp.action = 'https://formsubmit.co/bridgemindgames@gmail.com';
            formTemp.method = 'POST';
            formTemp.style.display = 'none';
            
            // Agregar campos
            for (let key in datos) {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = datos[key];
                formTemp.appendChild(input);
            }
            
            // Asunto personalizado
            const subject = document.createElement('input');
            subject.type = 'hidden';
            subject.name = '_subject';
            subject.value = 'âœ… Nuevo contacto BridgeMind - ID: ' + idMostrar;
            formTemp.appendChild(subject);
            
            // Agregar y enviar
            document.body.appendChild(formTemp);
            formTemp.submit();
        }

        // Iniciar en espaÃ±ol
        cambiarIdioma('es');
    </script>
    <script src="chatbot.js"></script>
</body>
</html>
