<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BridgeMind Games Education | Global System</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --blue: #007bff;
      --yellow: #ffc107;
      --dark: #0056b3;
    }
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
      color: #fff;
      min-height: 100vh;
    }
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 86, 179, 0.95);
      z-index: 5000;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    .logo-box {
      text-align: center;
      padding: 10px 0;
    }
    .logo-box img {
      max-width: 120px;
      height: auto;
    }
    .nav-flags {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      padding: 8px;
      background: rgba(0,0,0,0.2);
    }
    .f-btn {
      background: #fff;
      border: 1px solid #ddd;
      padding: 5px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 5px;
      color: #333;
      transition: all 0.3s ease;
    }
    .f-btn.active {
      background: var(--yellow);
      font-weight: bold;
      border-color: var(--yellow);
    }
    .country-title {
      text-align: center;
      padding: 5px 20px;
      background: rgba(0, 86, 179, 0.8);
      border-bottom: 2px solid var(--yellow);
      font-size: 0.8rem;
    }
    .spacer {
      height: 120px;
    }
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    
    /* GALER√çA SIMPLE Y FUNCIONAL */
    .gallery-container {
      margin: 30px 0;
      width: 100%;
      overflow: hidden;
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 0 auto;
    }
    
    .gallery-item {
      width: 100%;
      height: 200px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      position: relative;
    }
    
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    
    .gallery-item:hover img {
      transform: scale(1.05);
    }
    
    #img-target {
      border: 4px solid var(--yellow);
    }
    
    .v-container {
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      margin: 30px 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    
    video {
      width: 100%;
      max-height: 400px;
      display: block;
    }
    
    .pillars {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .card {
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 10px;
      border-left: 5px solid var(--yellow);
      text-align: left;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      color: #333;
    }
    
    .card h3 {
      margin-top: 0;
      font-size: 1.2rem;
      color: var(--dark);
    }
    
    .buttons-container {
      margin: 30px 0;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .action-btn {
      padding: 15px 25px;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      min-width: 180px;
    }
    
    .btn-blue {
      background: var(--blue);
      color: white;
    }
    
    .btn-green {
      background: #28a745;
      color: white;
    }
    
    .action-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    }
    
    #form-wrap {
      display: none;
      background: white;
      padding: 25px;
      border-radius: 10px;
      margin: 20px auto;
      max-width: 600px;
      text-align: left;
      color: #333;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    #form-wrap h2 {
      color: var(--dark);
      text-align: center;
      margin-top: 0;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
    }
    
    label {
      font-weight: bold;
      font-size: 0.9rem;
      color: var(--blue);
      display: block;
      margin-bottom: 5px;
    }
    
    input, textarea, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
    }
    
    .phone-input {
      display: flex;
      gap: 10px;
    }
    
    .phone-input select {
      width: auto;
      min-width: 100px;
    }
    
    .send-btn {
      background: #28a745;
      color: #fff;
      border: none;
      padding: 15px;
      border-radius: 30px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.1rem;
      margin-top: 10px;
    }
    
    #form-status {
      margin-top: 10px;
      text-align: center;
      font-size: 0.9rem;
    }
    
    .badge-24-7 {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25D366;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: bold;
      z-index: 9999;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      gap: 8px;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    footer {
      background: rgba(0,0,0,0.3);
      color: #fff;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      font-size: 0.9rem;
    }
    
    /* Modal de Calendario */
    .modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
    }
    
    .modal-content {
      background: #fff;
      margin: 5% auto;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      position: relative;
    }
    
    .close-modal {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 28px;
      font-weight: bold;
      color: #999;
      cursor: pointer;
      border: none;
      background: none;
    }
    
    .day-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    
    .day-btn {
      padding: 12px;
      background: white;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      color: #333;
    }
    
    .day-btn.selected {
      border-color: var(--yellow);
      background: var(--yellow);
      font-weight: bold;
    }
    
    .time-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    
    .time-slot {
      padding: 10px;
      background: white;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      color: #333;
    }
    
    .time-slot.selected {
      border-color: var(--yellow);
      background: var(--yellow);
      font-weight: bold;
    }
    
    .contact-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .contact-btn {
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 10px;
      background: #f8f9fa;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
    
    .contact-btn:hover {
      border-color: var(--blue);
      background: var(--blue);
      color: white;
    }
    
    /* RESPONSIVE */
    @media (max-width: 768px) {
      .gallery-grid {
        grid-template-columns: 1fr;
      }
      
      .gallery-item {
        height: 180px;
      }
      
      .pillars {
        grid-template-columns: 1fr;
      }
      
      .buttons-container {
        flex-direction: column;
        align-items: center;
      }
      
      .action-btn {
        width: 100%;
        max-width: 300px;
      }
      
      .modal-content {
        margin: 10% 5%;
        padding: 15px;
      }
      
      .day-selector {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .time-slots {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .contact-options {
        grid-template-columns: 1fr;
      }
      
      .badge-24-7 {
        bottom: 10px;
        right: 10px;
        font-size: 0.8rem;
        padding: 8px 15px;
      }
    }
    
    @media (max-width: 480px) {
      .gallery-item {
        height: 150px;
      }
      
      .spacer {
        height: 100px;
      }
      
      .logo-box img {
        max-width: 100px;
      }
      
      .phone-input {
        flex-direction: column;
      }
      
      .phone-input select {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-box">
      <img src="logo.png" alt="BridgeMind Games Education">
    </div>
    <nav class="nav-flags" id="flag-box"></nav>
    <div class="country-title">
      <span id="current-country-text">BridgeMind Games - Global Language Learning System</span>
    </div>
  </header>
  
  <div class="spacer"></div>
  
  <main>
    <h1 id="txt-h1">BridgeMind Games Education</h1>
    <p id="txt-p" style="font-size:1.2rem;">Sistema Neuro-Ling√º√≠stico con IA</p>
    
    <!-- GALER√çA SIMPLE -->
    <div class="gallery-container">
      <div class="gallery-grid">
        <div class="gallery-item">
          <img src="1.jpeg" alt="Ni√±os aprendiendo con Bridge" title="Click para ver descripci√≥n">
        </div>
        <div class="gallery-item">
          <img src="2.jpeg" alt="Omar Sharif - Leyenda del Bridge" title="Click para ver descripci√≥n">
        </div>
        <div class="gallery-item">
          <img src="3.jpg" alt="Tecnolog√≠a educativa" title="Click para ver descripci√≥n">
        </div>
        <div class="gallery-item" id="img-target">
          <img src="esbr.jpg" alt="BridgeMind Games" title="Click para ver descripci√≥n">
        </div>
      </div>
    </div>

    <div class="v-container">
      <video id="video-player" controls>
        <source id="video-src" src="esp.mp4" type="video/mp4">
        Tu navegador no soporta video HTML5.
      </video>
    </div>

    <div class="pillars" id="pillar-box"></div>
    
    <div class="buttons-container">
      <button onclick="openCalendarModal()" class="action-btn btn-blue" id="btn-wa-txt">Videollamada</button>
      <button onclick="toggleForm()" class="action-btn btn-green" id="btn-info-txt">M√°s Informaci√≥n</button>
    </div>
    
    <section id="form-wrap">
      <h2 id="f-header-txt">Contacto</h2>
      <form id="contact-form">
        <input type="hidden" name="idioma_origen" id="hidden-lang">
        <div class="form-grid">
          <div class="campo">
            <label id="l-org">Organizaci√≥n</label>
            <input type="text" name="organizacion" required>
          </div>
          <div class="campo">
            <label id="l-name">Nombre</label>
            <input type="text" name="persona" required>
          </div>
          <div class="campo">
            <label id="l-mail">Email</label>
            <input type="email" name="email" required>
          </div>
          <div class="campo">
            <label id="l-phone">Tel√©fono</label>
            <div class="phone-input">
              <select name="prefijo" id="p-prefix" required>
                <option value="34">üá™üá∏ +34</option>
                <option value="1">üá∫üá∏ +1</option>
                <option value="33">üá´üá∑ +33</option>
                <option value="49">üá©üá™ +49</option>
                <option value="39">üáÆüáπ +39</option>
                <option value="81">üáØüáµ +81</option>
                <option value="86">üá®üá≥ +86</option>
                <option value="971">üá¶üá™ +971</option>
                <option value="7">üá∑üá∫ +7</option>
                <option value="351">üáµüáπ +351</option>
              </select>
              <input type="tel" name="telefono" id="p-phone" placeholder="Ej: 612345678" required>
            </div>
          </div>
          <div class="campo">
            <label id="l-city">Pa√≠s</label>
            <select name="pais" id="country-select" required>
              <option value="">Selecciona tu pa√≠s</option>
              <option value="ES">üá™üá∏ Espa√±a</option>
              <option value="US">üá∫üá∏ Estados Unidos</option>
              <option value="FR">üá´üá∑ Francia</option>
              <option value="DE">üá©üá™ Alemania</option>
              <option value="IT">üáÆüáπ Italia</option>
              <option value="JP">üáØüáµ Jap√≥n</option>
              <option value="CN">üá®üá≥ China</option>
              <option value="AE">üá¶üá™ Emiratos √Årabes</option>
              <option value="RU">üá∑üá∫ Rusia</option>
              <option value="PT">üáµüáπ Portugal</option>
              <option value="OT">üåç Otro pa√≠s</option>
            </select>
            <div id="other-country-container" style="display:none; margin-top:10px;">
              <input type="text" id="other-country" name="otro_pais" placeholder="Escribe tu pa√≠s">
            </div>
          </div>
          <div class="campo">
            <label id="l-msg">Tu consulta</label>
            <textarea name="mensaje" rows="4" placeholder="Cu√©ntanos sobre tu inter√©s en BridgeMind Games..."></textarea>
          </div>
          <div class="campo">
            <button type="submit" class="send-btn" id="btn-submit-txt">Enviar</button>
            <div id="form-status"></div>
          </div>
        </div>
      </form>
    </section>
  </main>
  
  <!-- Indicador 24/7 -->
  <div class="badge-24-7">
    <i class="fas fa-clock"></i>
    <span>Asistencia 24/7</span>
  </div>
  
  <!-- Modal de Calendario -->
  <div id="calendarModal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeCalendarModal()">&times;</button>
      <h2 id="modal-title">Agendar Videollamada</h2>
      
      <div>
        <h3 id="step1-title">Paso 1: Selecciona el d√≠a</h3>
        <div class="day-selector" id="day-selector"></div>
        
        <h3 id="step2-title">Paso 2: Selecciona la hora (CET - Madrid)</h3>
        <p id="schedule-text" style="color:#666;">Lunes a Viernes, 9:00 - 18:00</p>
        <div class="time-slots" id="time-slots-container">
          <div class="time-slot" data-time="10:00">10:00</div>
          <div class="time-slot" data-time="12:00">12:00</div>
          <div class="time-slot" data-time="15:00">15:00</div>
          <div class="time-slot" data-time="16:30">16:30</div>
          <div class="time-slot" data-time="18:00">18:00</div>
        </div>
      </div>
      
      <h3 id="step3-title">Paso 3: Elige tu m√©todo de contacto</h3>
      
      <div class="contact-options" id="contact-options">
        <a href="#" onclick="contactVia('whatsapp'); return false;" class="contact-btn" id="wa-btn">
          <i class="fab fa-whatsapp" style="color:#25D366;"></i>
          <strong>WhatsApp</strong>
        </a>
        <a href="#" onclick="contactVia('telegram'); return false;" class="contact-btn" id="tg-btn">
          <i class="fab fa-telegram" style="color:#0088cc;"></i>
          <strong>Telegram</strong>
        </a>
      </div>
    </div>
  </div>
  
  <footer>
    <div><strong>BridgeMind Games Education</strong> | Espa√±a (CET)</div>
    <div>bridgemindgames@gmail.com | WhatsApp: +34 634 268 663</div>
    <div style="margin-top:10px;">¬© 2024 BridgeMind Games. Todos los derechos reservados.</div>
  </footer>

  <script>
    const dictionary = {
      es: {
        t: "BridgeMind Games Education",
        p: "Sistema de Entrenamiento Neuro-Ling√º√≠stico impulsado por IA",
        v: "esp.mp4",
        i: "esbr.jpg",
        bW: "Agendar Videollamada",
        bI: "Solicitar Informaci√≥n",
        fH: "Contacto",
        fOrg: "Organizaci√≥n",
        fName: "Nombre",
        fMail: "Email",
        fPhone: "Tel√©fono",
        fCity: "Pa√≠s",
        fMsg: "Tu consulta",
        fBtn: "Enviar",
        fOk: "¬°Recibido! Te contactaremos pronto.",
        fError: "Error al enviar. Intenta de nuevo.",
        modalTitle: "Agendar Videollamada",
        step1Title: "Paso 1: Selecciona el d√≠a",
        step2Title: "Paso 2: Selecciona la hora",
        step3Title: "Paso 3: Elige contacto",
        scheduleText: "Lunes a Viernes, 9:00 - 18:00",
        days: ["Lun", "Mar", "Mi√©", "Jue", "Vie"],
        daysFull: ["Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes"],
        messageTemplate: "Hola, me gustar√≠a agendar una videollamada para BridgeMind Games el: ",
        selectDayFirst: "Por favor, selecciona primero un d√≠a",
        selectTimeFirst: "Por favor, selecciona primero una hora",
        imageTexts: [
          "Ni√±os aprendiendo espa√±ol mediante el juego del Bridge con IA",
          "Omar Sharif - Actor, jugador profesional de Bridge",
          "El futuro del aprendizaje de idiomas con tecnolog√≠a de punta",
          "BridgeMind Games - Conectando culturas"
        ],
        pi: [
          { t: "üéÆ Juegos con IA", d: "Din√°micas gamificadas con inteligencia artificial para mejorar el aprendizaje." },
          { t: "üß† Retorno Medible", d: "Sistema de m√©tricas para evaluar el progreso real de los estudiantes." },
          { t: "üè´ Centros Educativos", d: "Soluci√≥n adaptable al curr√≠culo escolar actual." }
        ]
      },
      en: {
        t: "BridgeMind Games Education",
        p: "AI-powered Neuro-Linguistic Training System",
        v: "aus.mp4",
        i: "enbr.jpg",
        bW: "Schedule Video Call",
        bI: "Request Information",
        fH: "Contact",
        fOrg: "Organization",
        fName: "Name",
        fMail: "Email",
        fPhone: "Phone",
        fCity: "Country",
        fMsg: "Your Message",
        fBtn: "Send",
        fOk: "Success! We will contact you soon.",
        fError: "Error sending. Try again.",
        modalTitle: "Schedule Video Call",
        step1Title: "Step 1: Select day",
        step2Title: "Step 2: Select time",
        step3Title: "Step 3: Choose contact",
        scheduleText: "Monday to Friday, 9:00 AM - 6:00 PM",
        days: ["Mon", "Tue", "Wed", "Thu", "Fri"],
        daysFull: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        messageTemplate: "Hello, I would like to schedule a video call for BridgeMind Games on: ",
        selectDayFirst: "Please select a day first",
        selectTimeFirst: "Please select a time first",
        imageTexts: [
          "Children learning Spanish through Bridge games with AI",
          "Omar Sharif - Actor, professional Bridge player",
          "The future of language learning with cutting-edge technology",
          "BridgeMind Games - Connecting cultures"
        ],
        pi: [
          { t: "üéÆ AI Gaming", d: "Gamified dynamics with artificial intelligence." },
          { t: "üß† Measurable ROI", d: "Metrics system for real student progress." },
          { t: "üè´ Educational Centers", d: "Solution adaptable to school curriculum." }
        ]
      }
    };

    let currentLang = 'es';
    let selectedDay = null;
    let selectedDate = null;
    let selectedTime = null;
    
    function init() {
      // Crear banderas
      const box = document.getElementById('flag-box');
      const languages = ['es', 'en'];
      
      languages.forEach(lang => {
        const btn = document.createElement('button');
        btn.className = `f-btn ${lang === currentLang ? 'active' : ''}`;
        btn.innerHTML = `<span class="flag-icon flag-icon-${lang === 'es' ? 'es' : 'us'}"></span> ${lang.toUpperCase()}`;
        btn.onclick = () => switchLang(lang);
        box.appendChild(btn);
      });
      
      // Detectar idioma del navegador
      const userLang = navigator.language || navigator.userLanguage;
      if (userLang.startsWith('en')) {
        switchLang('en');
      } else {
        switchLang('es');
      }
      
      // Configurar eventos
      setupFormEvents();
      setupDaySelector();
      setupTimeSlots();
      
      // Configurar clics en im√°genes
      document.querySelectorAll('.gallery-item img').forEach((img, index) => {
        img.addEventListener('click', () => {
          const data = dictionary[currentLang];
          alert(data.imageTexts[index] || "BridgeMind Games - Sistema de aprendizaje");
        });
      });
      
      // Crear badge 24/7 si no existe
      if (!document.querySelector('.badge-24-7')) {
        create24hBadge();
      }
    }
    
    function switchLang(lang) {
      currentLang = lang;
      const data = dictionary[lang];
      
      // Actualizar textos
      document.getElementById('txt-h1').textContent = data.t;
      document.getElementById('txt-p').textContent = data.p;
      document.getElementById('btn-wa-txt').textContent = data.bW;
      document.getElementById('btn-info-txt').textContent = data.bI;
      document.getElementById('f-header-txt').textContent = data.fH;
      document.getElementById('l-org').textContent = data.fOrg;
      document.getElementById('l-name').textContent = data.fName;
      document.getElementById('l-mail').textContent = data.fMail;
      document.getElementById('l-phone').textContent = data.fPhone;
      document.getElementById('l-city').textContent = data.fCity;
      document.getElementById('l-msg').textContent = data.fMsg;
      document.getElementById('btn-submit-txt').textContent = data.fBtn;
      document.getElementById('modal-title').textContent = data.modalTitle;
      document.getElementById('step1-title').textContent = data.step1Title;
      document.getElementById('step2-title').textContent = data.step2Title;
      document.getElementById('step3-title').textContent = data.step3Title;
      document.getElementById('schedule-text').textContent = data.scheduleText;
      
      // Actualizar imagen principal
      const mainImg = document.querySelector('#img-target img');
      if (mainImg) {
        mainImg.src = data.i;
      }
      
      // Actualizar video
      const video = document.getElementById('video-src');
      if (video) {
        video.src = data.v;
        document.getElementById('video-player').load();
      }
      
      // Actualizar pilares
      const pillarBox = document.getElementById('pillar-box');
      if (pillarBox && data.pi) {
        pillarBox.innerHTML = '';
        data.pi.forEach(pillar => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `<h3>${pillar.t}</h3><p>${pillar.d}</p>`;
          pillarBox.appendChild(card);
        });
      }
      
      // Actualizar banderas activas
      document.querySelectorAll('.f-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent.includes(lang.toUpperCase())) {
          btn.classList.add('active');
        }
      });
      
      // Actualizar selector de d√≠as
      setupDaySelector();
    }
    
    function setupFormEvents() {
      const countrySelect = document.getElementById('country-select');
      const otherContainer = document.getElementById('other-country-container');
      
      countrySelect.addEventListener('change', function() {
        otherContainer.style.display = this.value === 'OT' ? 'block' : 'none';
      });
    }
    
    function setupDaySelector() {
      const daySelector = document.getElementById('day-selector');
      daySelector.innerHTML = '';
      const data = dictionary[currentLang];
      
      const today = new Date();
      let daysAdded = 0;
      let currentDate = new Date(today);
      
      while (daysAdded < 5) {
        currentDate.setDate(currentDate.getDate() + 1);
        if (currentDate.getDay() !== 0 && currentDate.getDay() !== 6) {
          const btn = document.createElement('div');
          btn.className = 'day-btn';
          
          const dayName = data.days[daysAdded];
          const dayNum = currentDate.getDate();
          const month = currentDate.getMonth() + 1;
          
          btn.textContent = `${dayName} ${dayNum}/${month}`;
          
          const year = currentDate.getFullYear();
          const monthStr = String(currentDate.getMonth() + 1).padStart(2, '0');
          const dayStr = String(currentDate.getDate()).padStart(2, '0');
          const fullDate = `${year}-${monthStr}-${dayStr}`;
          
          btn.dataset.date = fullDate;
          btn.dataset.dayName = data.daysFull[daysAdded];
          
          btn.onclick = function() {
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('selected'));
            this.classList.add('selected');
            selectedDay = this.dataset.dayName;
            selectedDate = this.dataset.date;
          };
          
          daySelector.appendChild(btn);
          daysAdded++;
        }
      }
    }
    
    function setupTimeSlots() {
      document.querySelectorAll('.time-slot').forEach(slot => {
        slot.addEventListener('click', function() {
          document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
          this.classList.add('selected');
          selectedTime = this.dataset.time;
        });
      });
    }
    
    function toggleForm() {
      const form = document.getElementById('form-wrap');
      form.style.display = form.style.display === 'block' ? 'none' : 'block';
      if (form.style.display === 'block') {
        form.scrollIntoView({ behavior: 'smooth' });
      }
    }
    
    function openCalendarModal() {
      document.getElementById('calendarModal').style.display = 'block';
      document.body.style.overflow = 'hidden';
      selectedDay = null;
      selectedDate = null;
      selectedTime = null;
      document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('selected'));
      document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
    }
    
    function closeCalendarModal() {
      document.getElementById('calendarModal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    function contactVia(method) {
      const data = dictionary[currentLang];
      
      if (!selectedDay) {
        alert(data.selectDayFirst);
        return;
      }
      
      if (!selectedTime) {
        alert(data.selectTimeFirst);
        return;
      }
      
      const message = `${data.messageTemplate}${selectedDay} ${selectedTime} CET`;
      
      if (method === 'whatsapp') {
        window.open(`https://wa.me/34634268663?text=${encodeURIComponent(message)}`, '_blank');
      } else if (method === 'telegram') {
        window.open(`https://t.me/BridgeMindGames`, '_blank');
      }
      
      closeCalendarModal();
    }
    
    function create24hBadge() {
      const badge = document.createElement('div');
      badge.className = 'badge-24-7';
      badge.innerHTML = '<i class="fas fa-clock"></i><span>Asistencia 24/7</span>';
      document.body.appendChild(badge);
    }
    
    // Manejar env√≠o del formulario
    document.getElementById('contact-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const data = dictionary[currentLang];
      const status = document.getElementById('form-status');
      
      status.textContent = 'Enviando...';
      status.style.color = 'orange';
      status.style.display = 'block';
      
      // Simular env√≠o (en producci√≥n usar√≠as fetch)
      setTimeout(() => {
        status.textContent = data.fOk;
        status.style.color = 'green';
        this.reset();
        
        setTimeout(() => {
          status.style.display = 'none';
          toggleForm();
        }, 3000);
      }, 1500);
    });
    
    // Cerrar modal al hacer clic fuera
    window.addEventListener('click', function(event) {
      const modal = document.getElementById('calendarModal');
      if (event.target === modal) {
        closeCalendarModal();
      }
    });
    
    // Inicializar cuando el DOM est√© listo
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
