<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BridgeMind Games Education | Global System</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        :root { --blue: #007bff; --dark: #0056b3; --yellow: #ffc107; --bg: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; color: #333; background: var(--bg); }

        /* HEADER FIJO TOTAL */
        #fixed-header { position: fixed; top: 0; left: 0; width: 100%; background: var(--blue); z-index: 2000; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
        .logo-container { text-align: center; padding: 10px 0 5px; }
        .logo-container img { max-width: 200px; transition: 0.4s; }
        .lang-nav { display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; padding: 8px 10px; background: rgba(0,0,0,0.1); }
        .lang-btn { background: white; border: 1px solid #ccc; padding: 5px 12px; border-radius: 20px; cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 0.75rem; transition: 0.2s; }
        .lang-btn.active { background: var(--yellow); border-color: var(--yellow); font-weight: bold; transform: scale(1.05); }

        .header-spacer { height: 160px; }
        main { max-width: 1100px; margin: 0 auto; padding: 20px; text-align: center; }
        h1 { font-size: 2.3rem; color: var(--blue); margin-top: 10px; }

        /* GALER√çA */
        .gallery { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin: 30px 0; }
        .gallery img { width: 100%; height: 180px; object-fit: cover; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        #dynamic-img { border: 4px solid var(--blue); }

        /* VIDEO */
        .video-box { background: #000; border-radius: 15px; overflow: hidden; margin: 30px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        video { width: 100%; display: block; max-height: 500px; }

        .pillars { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 40px 0; }
        .pillar-card { background: #f8f9fa; padding: 25px; border-radius: 12px; border-left: 5px solid var(--blue); text-align: left; }

        .cta-box { display: flex; justify-content: center; gap: 15px; margin: 40px 0; flex-wrap: wrap; }
        .btn-cta { padding: 15px 25px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; font-size: 1rem; }
        .btn-blue { background: var(--blue); color: white; }
        .btn-green { background: #28a745; color: white; }

        /* FORMULARIO */
        #form-section { display: none; background: white; padding: 35px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); margin: 30px auto; max-width: 700px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .full { grid-column: span 2; }
        .submit-btn { background: #28a745; color: white; border: none; padding: 15px; border-radius: 30px; width: 100%; font-weight: bold; cursor: pointer; }

        /* CHATBOT */
        #chat-window { position: fixed; bottom: 95px; right: 20px; width: 330px; background: white; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); display: none; flex-direction: column; overflow: hidden; z-index: 3000; border: 1px solid #eee; }
        .chat-header { background: var(--blue); color: white; padding: 12px; display: flex; justify-content: space-between; align-items: center; }
        .chat-messages { height: 320px; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; background: #fdfdfd; }
        .chat-msg { padding: 10px; border-radius: 12px; font-size: 0.9rem; max-width: 85%; }
        .chat-msg.bot { align-self: flex-start; background: #eee; }
        .chat-msg.user { align-self: flex-end; background: var(--blue); color: white; }
        
        #chat-toggle { position: fixed; bottom: 25px; right: 25px; width: 60px; height: 60px; background: var(--yellow); border-radius: 50%; border: none; cursor: pointer; font-size: 1.6rem; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 3001; }
        .social-links { display: flex; flex-direction: column; gap: 5px; margin-top: 10px; }
        .soc-btn { padding: 8px; border-radius: 5px; text-decoration: none; color: white; font-size: 0.8rem; text-align: center; font-weight: bold; }

        footer { background: #222; color: #fff; text-align: center; padding: 25px; margin-top: 50px; }
    </style>
</head>
<body id="main-body">

    <header id="fixed-header">
        <div class="logo-container"><img src="bmg.jpg" alt="Logo" id="logo"></div>
        <nav class="lang-nav" id="lang-bar"></nav>
    </header>

    <div class="header-spacer"></div>

    <main>
        <h1 id="txt-title">...</h1>
        <p id="txt-desc" style="font-size:1.1rem; color:#666; margin-bottom: 30px;">...</p>

        <div class="gallery">
            <img src="1.jpeg" alt="1"> <img src="2.jpeg" alt="2"> <img src="3.jpg" alt="3">
            <img id="dynamic-img" src="esbr.jpg" alt="Country Flag">
        </div>

        <div class="video-box">
            <video id="v-player" controls><source id="v-src" src="esp.mp4" type="video/mp4"></video>
        </div>

        <div class="pillars" id="pillars-box"></div>

        <div class="cta-box">
            <button class="btn-cta btn-blue" onclick="window.open('https://wa.me/34634268663')">
                <i class="fas fa-video"></i> <span id="btn-call">Videollamada</span>
            </button>
            <button class="btn-cta btn-green" onclick="toggleForm()">
                <i class="fas fa-file-signature"></i> <span id="btn-info">Solicitar Info</span>
            </button>
        </div>

        <section id="form-section">
            <h2 id="f-head">Contacto</h2>
            <form id="main-form">
                <input type="hidden" name="idioma_origen" id="h-lang">
                <div class="form-grid">
                    <input type="text" name="organizacion" id="f-org" placeholder="Org" required>
                    <input type="text" name="persona" id="f-name" placeholder="Nombre" required>
                    <input type="email" name="email" id="f-email" placeholder="Email" required>
                    <input type="text" name="pais" id="f-country" placeholder="Pa√≠s" required>
                    <textarea name="mensaje" id="f-msg" rows="4" class="full" placeholder="..."></textarea>
                </div>
                <button type="submit" class="submit-btn" id="f-submit-btn">Enviar a Planilla</button>
            </form>
            <div id="form-status" style="margin-top:10px; font-weight:bold; display:none;"></div>
        </section>
    </main>

    <button id="chat-toggle" onclick="toggleChat()"><i class="fas fa-comments"></i></button>

    <div id="chat-window">
        <div class="chat-header"><strong>BridgeMind Assistant</strong><span onclick="toggleChat()" style="cursor:pointer">‚úï</span></div>
        <div class="chat-messages" id="chat-content"></div>
        <div class="chat-footer" style="padding:10px; border-top:1px solid #eee; display:flex;">
            <input type="text" id="chat-input" placeholder="..." style="flex:1; border:none; outline:none;">
            <button onclick="sendMsg()" style="background:none; border:none; color:var(--blue); font-size:1.2rem;"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <footer>
        <p><strong>BridgeMind Games Education</strong> | Espa√±a (CET)</p>
        <p>bridgemindgames@gmail.com | +34 634 268 663</p>
    </footer>

    <script>
        const db = {
            es: { t: "BridgeMind Games Education", d: "Entrenamiento Neuro-Ling√º√≠stico con IA.", v: "esp.mp4", i: "esbr.jpg", bC: "Videollamada", bI: "M√°s Informaci√≥n", hi: "¬°Hola! ¬øC√≥mo puedo ayudarte?", fS: "Enviar", fSent: "Enviando...", fOk: "¬°Enviado!", pi: [{t:"üéÆ Juego IA", d:"Foco total."},{t:"üß† Retorno", d:"Resultados."}, {t:"üè´ Centros", d:"Adaptable."}] },
            en: { t: "BridgeMind Games Education", d: "AI Neuro-Linguistic Training.", v: "aus.mp4", i: "enbr.jpg", bC: "Video Call", bI: "Request Info", hi: "Hello! How can I help?", fS: "Submit", fSent: "Sending...", fOk: "Sent!", pi: [{t:"üéÆ AI Gaming", d:"High Focus."}, {t:"üß† ROI", d:"Progress."}, {t:"üè´ Schools", d:"Curriculum."}] },
            fr: { t: "BridgeMind Education", d: "IA Neuro-Linguistique.", v: "fra.mp4", i: "frbr.jpg", hi: "Bonjour !", fS: "Envoyer", pi: [{t:"üéÆ Jeux IA", d:"Attention."},{t:"üß† Retour", d:"Mesure."},{t:"üè´ √âcoles", d:"Mod√®le."}] },
            de: { t: "BridgeMind Bildung", d: "KI-basiertes System.", v: "ale.mp4", i: "alebr.jpg", hi: "Hallo!", fS: "Senden", pi: [] },
            it: { t: "BridgeMind Educazione", d: "Sistema AI.", v: "ita.mp4", i: "itabr.jpg", hi: "Ciao!", fS: "Invia", pi: [] },
            jp: { t: "BridgeMind Games ÊïôËÇ≤", d: "AIÁ•ûÁµåË®ÄË™û„Éà„É¨„Éº„Éã„É≥„Ç∞„ÄÇ", v: "jpn.mp4", i: "jpnbrg.jpg", bC: "Èù¢Ë´á", hi: "„Åì„Çì„Å´„Å°„ÅØÔºÅ", fS: "ÈÄÅ‰ø°", pi: [] },
            ch: { t: "BridgeMind Games ÊïôËÇ≤", d: "‰∫∫Â∑•Êô∫ËÉΩÁ•ûÁªèËØ≠Ë®ÄËÆ≠ÁªÉ„ÄÇ", v: "chn.mp4", i: "shbr.jpg", bC: "È¢ÑÁ∫¶", hi: "‰Ω†Â•ΩÔºÅ", fS: "ÂèëÈÄÅ", pi: [] },
            ar: { t: "BridgeMind Games ÿßŸÑÿ™ÿπŸÑŸäŸÖ", d: "ŸÜÿ∏ÿßŸÖ ÿ∞ŸÉŸä.", v: "ara.mp4", i: "dubr.jpg", hi: "ŸÖÿ±ÿ≠ÿ®ÿßŸã!", fS: "ÿ•ÿ±ÿ≥ÿßŸÑ", pi: [] }
        };

        let curLang = 'es';

        function init() {
            const bar = document.getElementById('lang-bar');
            const flags = { es:'es', en:'us', fr:'fr', de:'de', it:'it', jp:'jp', ch:'cn', ar:'sa' };
            Object.keys(db).forEach(lang => {
                const btn = document.createElement('button');
                btn.className = `lang-btn ${lang === curLang ? 'active' : ''}`;
                btn.innerHTML = `<span class="flag-icon flag-icon-${flags[lang]}"></span> ${lang.toUpperCase()}`;
                btn.onclick = () => switchL(lang);
                bar.appendChild(btn);
            });
            switchL('es');
        }

        function switchL(lang) {
            curLang = lang;
            const data = db[lang] || db.en;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.innerText.toLowerCase().includes(lang)));
            
            document.getElementById('txt-title').innerText = data.t;
            document.getElementById('txt-desc').innerText = data.d;
            document.getElementById('btn-call').innerText = data.bC || "Call";
            document.getElementById('btn-info').innerText = data.bI || "Info";
            document.getElementById('h-lang').value = lang;
            document.getElementById('f-submit-btn').innerText = data.fS;

            const box = document.getElementById('pillars-box');
            box.innerHTML = '';
            (data.pi.length > 0 ? data.pi : db.es.pi).forEach(p => { box.innerHTML += `<div class="pillar-card"><h3>${p.t}</h3><p>${p.d}</p></div>`; });

            document.getElementById('dynamic-img').src = data.i;
            const v = document.getElementById('v-player');
            document.getElementById('v-src').src = data.v;
            v.load();

            document.getElementById('chat-content').innerHTML = `<div class="chat-msg bot">${data.hi}</div>`;
            document.getElementById('main-body').style.direction = (lang === 'ar') ? 'rtl' : 'ltr';
        }

        function toggleChat() {
            const w = document.getElementById('chat-window');
            w.style.display = (w.style.display === 'flex') ? 'none' : 'flex';
        }

        function sendMsg() {
            const input = document.getElementById('chat-input');
            const val = input.value.trim().toLowerCase();
            if(!val) return;
            const cont = document.getElementById('chat-content');
            cont.innerHTML += `<div class="chat-msg user">${input.value}</div>`;
            input.value = '';

            setTimeout(() => {
                const l = db[curLang] || db.en;
                if(val.includes("pilar") || val.includes("que es") || val.includes("what is")) {
                    cont.innerHTML += `<div class="chat-msg bot">${l.pi[0]?.d || "AI System."}</div>`;
                } else {
                    cont.innerHTML += `<div class="chat-msg bot">Habla con nosotros (Espa√±a):</div>
                        <div class="social-links">
                            <a href="https://wa.me/34634268663" class="soc-btn" style="background:#25d366" target="_blank">WhatsApp</a>
                            <a href="https://t.me/BridgeMind" class="soc-btn" style="background:#0088cc" target="_blank">Telegram</a>
                        </div>`;
                }
                cont.scrollTop = cont.scrollHeight;
            }, 600);
        }

        document.getElementById('main-form').onsubmit = function(e) {
            e.preventDefault();
            const btn = document.getElementById('f-submit-btn');
            const status = document.getElementById('form-status');
            const data = db[curLang] || db.es;
            btn.disabled = true;
            status.style.display = "block";
            status.innerText = data.fSent;
            
            fetch('https://script.google.com/macros/s/AKfycbxkC-I5rdeStPM1SsgmQpAzy3I_BGbPo0LMaaGUfVAKaeQWSvsxqH_E_EUHcpieb0hM/exec', { method: 'POST', body: new FormData(this) })
            .then(() => {
                status.innerText = data.fOk;
                this.reset();
                setTimeout(() => { status.style.display = "none"; toggleForm(); }, 2000);
            })
            .finally(() => btn.disabled = false);
        };

        function toggleForm() {
            const f = document.getElementById('form-section');
            f.style.display = (f.style.display === 'block') ? 'none' : 'block';
            if(f.style.display === 'block') f.scrollIntoView({ behavior: 'smooth' });
        }

        document.getElementById('chat-input').onkeypress = (e) => { if(e.key === 'Enter') sendMsg(); };
        init();
    </script>
</body>
</html>
