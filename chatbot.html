
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot BridgeMind - Prueba Completa</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        #test-panel { background: white; padding: 20px; border-radius: 10px; max-width: 800px; margin: 0 auto 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        #test-panel h2 { color: #667eea; margin-bottom: 15px; }
        .language-selector { display: flex; gap: 10px; flex-wrap: wrap; margin: 20px 0; }
        .lang-btn { padding: 10px 20px; border: 2px solid #667eea; background: white; color: #667eea; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
        .lang-btn:hover { background: #667eea; color: white; }
        .lang-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-color: #764ba2; }
        .info-box { background: #f0f4ff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; margin-bottom: 20px; }
        #chatbot-button { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; transition: transform 0.3s; }
        #chatbot-button:hover { transform: scale(1.1); }
        #chatbot-button svg { width: 32px; height: 32px; fill: white; }
        #chatbot-button::after { content: ''; position: absolute; top: 5px; right: 5px; width: 12px; height: 12px; background: #10b981; border-radius: 50%; border: 2px solid white; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.2); opacity: 0.8; } }
        #chatbot-window { position: fixed; bottom: 90px; right: 20px; width: 350px; height: 500px; background: white; border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2); display: none; flex-direction: column; z-index: 1001; overflow: hidden; }
        #chatbot-window.active { display: flex; }
        @media (max-width: 768px) { #chatbot-window { bottom: 80px; right: 10px; left: 10px; width: auto; height: 450px; max-height: 70vh; } }
        #chatbot-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        #chatbot-header h3 { font-size: 16px; font-weight: 600; }
        #close-chat { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        #chat-messages { flex: 1; padding: 15px; overflow-y: auto; background: #f5f5f5; }
        .message { margin-bottom: 15px; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .message.bot { text-align: left; }
        .message.user { text-align: right; }
        .message-content { display: inline-block; padding: 10px 15px; border-radius: 12px; max-width: 80%; word-wrap: break-word; font-size: 14px; line-height: 1.5; }
        .message.bot .message-content { background: white; color: #333; border: 1px solid #e0e0e0; }
        .message.user .message-content { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .action-buttons { display: flex; flex-direction: column; gap: 10px; margin-top: 15px; }
        .action-buttons button { padding: 12px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 14px; }
        .contact-btn { background: #10b981; color: white; }
        .contact-btn:hover { background: #059669; transform: scale(1.05); }
        .form-btn { background: #667eea; color: white; }
        .form-btn:hover { background: #5a67d8; transform: scale(1.05); }
        .whatsapp-btn { background: #25D366; color: white; }
        .whatsapp-btn:hover { background: #20BA5A; transform: scale(1.05); }
        .telegram-btn { background: #0088cc; color: white; }
        .telegram-btn:hover { background: #006ba1; transform: scale(1.05); }
        .wechat-btn { background: #09b83e; color: white; }
        .wechat-btn:hover { background: #078a2f; transform: scale(1.05); }
        #chat-input-area { padding: 15px; background: white; border-top: 1px solid #e0e0e0; display: flex; gap: 10px; }
        #chat-input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px; outline: none; font-size: 14px; }
        #send-button { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: 600; }
        .test-list { list-style: none; padding: 0; margin-top: 10px; }
        .test-list li { padding: 10px; margin: 5px 0; background: #fff; border-radius: 5px; cursor: pointer; border-left: 3px solid #667eea; }
        .test-list li:hover { background: #f0f4ff; }
    </style>
</head>
<body>
    <div id="test-panel">
        <h2>ğŸ§ª Prueba el Chatbot - 3 Apps de MensajerÃ­a</h2>
        <div class="info-box">
            <p><strong>Idioma actual:</strong> <span id="current-lang">EspaÃ±ol</span></p>
            <p>Detecta horario de EspaÃ±a (L-V 9:00-18:00) y ofrece WhatsApp, Telegram y WeChat</p>
        </div>
        <div class="language-selector">
            <button class="lang-btn active" onclick="changeLang('es')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
            <button class="lang-btn" onclick="changeLang('en')">ğŸ‡¬ğŸ‡§ English</button>
            <button class="lang-btn" onclick="changeLang('fr')">ğŸ‡«ğŸ‡· FranÃ§ais</button>
            <button class="lang-btn" onclick="changeLang('de')">ğŸ‡©ğŸ‡ª Deutsch</button>
            <button class="lang-btn" onclick="changeLang('it')">ğŸ‡®ğŸ‡¹ Italiano</button>
            <button class="lang-btn" onclick="changeLang('ja')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
            <button class="lang-btn" onclick="changeLang('zh')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
            <button class="lang-btn" onclick="changeLang('ar')">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        </div>
        <h4>ğŸ’¬ Mensajes de prueba:</h4>
        <ul class="test-list" id="test-messages"></ul>
    </div>

    <div id="chatbot-button">
        <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/><circle cx="9" cy="10" r="1.5"/><circle cx="15" cy="10" r="1.5"/></svg>
    </div>

    <div id="chatbot-window">
        <div id="chatbot-header">
            <h3>ğŸ® BridgeMind Assistant</h3>
            <button id="close-chat" onclick="closeWindow()">&times;</button>
        </div>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Escribe...">
            <button id="send-button" onclick="send()">Enviar</button>
        </div>
    </div>

    <script>
        let lang = "es";
        const langNames = {es:"EspaÃ±ol",en:"English",fr:"FranÃ§ais",de:"Deutsch",it:"Italiano",ja:"æ—¥æœ¬èª",zh:"ä¸­æ–‡",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"};
        
        const kb = {
            programa: {
                es: ["BridgeMindGames es un sistema de entrenamiento neuro-lingÃ¼Ã­stico basado en IA. ğŸ®","Somos una plataforma educativa que usa IA para entrenar habilidades cognitivas y lingÃ¼Ã­sticas. ğŸ§ ","BridgeMindGames transforma el aprendizaje en una experiencia gamificada con IA. âœ¨"],
                en: ["BridgeMindGames is an AI-based neuro-linguistic training system. ğŸ®","We're an educational platform using AI to train cognitive and language skills. ğŸ§ ","BridgeMindGames transforms learning into a gamified AI experience. âœ¨"],
                fr: ["BridgeMindGames est un systÃ¨me d'entraÃ®nement neuro-linguistique basÃ© sur l'IA. ğŸ®","Nous sommes une plateforme Ã©ducative utilisant l'IA. ğŸ§ ","BridgeMindGames transforme l'apprentissage en expÃ©rience gamifiÃ©e. âœ¨"],
                de: ["BridgeMindGames ist ein KI-basiertes neuro-linguistisches Trainingssystem. ğŸ®","Wir sind eine Bildungsplattform mit KI. ğŸ§ ","BridgeMindGames verwandelt Lernen in ein gamifiziertes Erlebnis. âœ¨"],
                it: ["BridgeMindGames Ã¨ un sistema di allenamento neuro-linguistico con IA. ğŸ®","Siamo una piattaforma educativa che usa l'IA. ğŸ§ ","BridgeMindGames trasforma l'apprendimento in esperienza gamificata. âœ¨"],
                ja: ["BridgeMindGamesã¯AIãƒ™ãƒ¼ã‚¹ã®ç¥çµŒè¨€èªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ğŸ®","AIã‚’ä½¿ç”¨ã—ãŸæ•™è‚²ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ğŸ§ ","BridgeMindGamesã¯å­¦ç¿’ã‚’ã‚²ãƒ¼ãƒ åŒ–ã•ã‚ŒãŸAIä½“é¨“ã«å¤‰ãˆã¾ã™ã€‚âœ¨"],
                zh: ["BridgeMindGamesæ˜¯åŸºäºAIçš„ç¥ç»è¯­è¨€åŸ¹è®­ç³»ç»Ÿã€‚ğŸ®","æˆ‘ä»¬æ˜¯ä½¿ç”¨AIçš„æ•™è‚²å¹³å°ã€‚ğŸ§ ","BridgeMindGameså°†å­¦ä¹ è½¬å˜ä¸ºæ¸¸æˆåŒ–çš„AIä½“éªŒã€‚âœ¨"],
                ar: ["BridgeMindGames Ù‡Ùˆ Ù†Ø¸Ø§Ù… ØªØ¯Ø±ÙŠØ¨ Ø¹ØµØ¨ÙŠ Ù„ØºÙˆÙŠ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.ğŸ®","Ù†Ø­Ù† Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.ğŸ§ ","ÙŠØ­ÙˆÙ„ BridgeMindGames Ø§Ù„ØªØ¹Ù„Ù… Ø¥Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ¹Ø©.âœ¨"]
            },
            idiomas: {
                es: ["Ofrecemos 8 idiomas: EspaÃ±olğŸ‡ªğŸ‡¸, InglÃ©sğŸ‡¬ğŸ‡§, FrancÃ©sğŸ‡«ğŸ‡·, ItalianoğŸ‡®ğŸ‡¹, AlemÃ¡nğŸ‡©ğŸ‡ª, JaponÃ©sğŸ‡¯ğŸ‡µ, ChinoğŸ‡¨ğŸ‡³ y ÃrabeğŸ‡¸ğŸ‡¦","Nuestro sistema soporta 8 idiomas principales adaptÃ¡ndose al usuario. ğŸŒ","Trabajamos con 8 idiomas globales. ğŸ—£ï¸"],
                en: ["We offer 8 languages: SpanishğŸ‡ªğŸ‡¸, EnglishğŸ‡¬ğŸ‡§, FrenchğŸ‡«ğŸ‡·, ItalianğŸ‡®ğŸ‡¹, GermanğŸ‡©ğŸ‡ª, JapaneseğŸ‡¯ğŸ‡µ, ChineseğŸ‡¨ğŸ‡³, ArabicğŸ‡¸ğŸ‡¦","Our system supports 8 major languages. ğŸŒ","We work with 8 global languages. ğŸ—£ï¸"],
                fr: ["Nous proposons 8 langues: EspagnolğŸ‡ªğŸ‡¸, AnglaisğŸ‡¬ğŸ‡§, FranÃ§aisğŸ‡«ğŸ‡·, ItalienğŸ‡®ğŸ‡¹, AllemandğŸ‡©ğŸ‡ª, JaponaisğŸ‡¯ğŸ‡µ, ChinoisğŸ‡¨ğŸ‡³, ArabeğŸ‡¸ğŸ‡¦","Notre systÃ¨me prend en charge 8 langues. ğŸŒ","Nous travaillons avec 8 langues mondiales. ğŸ—£ï¸"],
                de: ["Wir bieten 8 Sprachen: SpanischğŸ‡ªğŸ‡¸, EnglischğŸ‡¬ğŸ‡§, FranzÃ¶sischğŸ‡«ğŸ‡·, ItalienischğŸ‡®ğŸ‡¹, DeutschğŸ‡©ğŸ‡ª, JapanischğŸ‡¯ğŸ‡µ, ChinesischğŸ‡¨ğŸ‡³, ArabischğŸ‡¸ğŸ‡¦","Unser System unterstÃ¼tzt 8 Hauptsprachen. ğŸŒ","Wir arbeiten mit 8 globalen Sprachen. ğŸ—£ï¸"],
                it: ["Offriamo 8 lingue: SpagnoloğŸ‡ªğŸ‡¸, IngleseğŸ‡¬ğŸ‡§, FranceseğŸ‡«ğŸ‡·, ItalianoğŸ‡®ğŸ‡¹, TedescoğŸ‡©ğŸ‡ª, GiapponeseğŸ‡¯ğŸ‡µ, CineseğŸ‡¨ğŸ‡³, AraboğŸ‡¸ğŸ‡¦","Il nostro sistema supporta 8 lingue principali. ğŸŒ","Lavoriamo con 8 lingue globali. ğŸ—£ï¸"],
                ja: ["8ã¤ã®è¨€èªã‚’æä¾›: ã‚¹ãƒšã‚¤ãƒ³èªğŸ‡ªğŸ‡¸ã€è‹±èªğŸ‡¬ğŸ‡§ã€ãƒ•ãƒ©ãƒ³ã‚¹èªğŸ‡«ğŸ‡·ã€ã‚¤ã‚¿ãƒªã‚¢èªğŸ‡®ğŸ‡¹ã€ãƒ‰ã‚¤ãƒ„èªğŸ‡©ğŸ‡ªã€æ—¥æœ¬èªğŸ‡¯ğŸ‡µã€ä¸­å›½èªğŸ‡¨ğŸ‡³ã€ã‚¢ãƒ©ãƒ“ã‚¢èªğŸ‡¸ğŸ‡¦","å½“ã‚·ã‚¹ãƒ†ãƒ ã¯8ã¤ã®ä¸»è¦è¨€èªã‚’ã‚µãƒãƒ¼ãƒˆã€‚ğŸŒ","8ã¤ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨€èªã§ä½œæ¥­ã€‚ğŸ—£ï¸"],
                zh: ["æˆ‘ä»¬æä¾›8ç§è¯­è¨€: è¥¿ç­ç‰™è¯­ğŸ‡ªğŸ‡¸ã€è‹±è¯­ğŸ‡¬ğŸ‡§ã€æ³•è¯­ğŸ‡«ğŸ‡·ã€æ„å¤§åˆ©è¯­ğŸ‡®ğŸ‡¹ã€å¾·è¯­ğŸ‡©ğŸ‡ªã€æ—¥è¯­ğŸ‡¯ğŸ‡µã€ä¸­æ–‡ğŸ‡¨ğŸ‡³ã€é˜¿æ‹‰ä¼¯è¯­ğŸ‡¸ğŸ‡¦","æˆ‘ä»¬çš„ç³»ç»Ÿæ”¯æŒ8ç§ä¸»è¦è¯­è¨€ã€‚ğŸŒ","æˆ‘ä»¬ä½¿ç”¨8ç§å…¨çƒè¯­è¨€ã€‚ğŸ—£ï¸"],
                ar: ["Ù†Ù‚Ø¯Ù… 8 Ù„ØºØ§Øª: Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©ğŸ‡ªğŸ‡¸ ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ğŸ‡¬ğŸ‡§ ÙˆØ§Ù„ÙØ±Ù†Ø³ÙŠØ©ğŸ‡«ğŸ‡· ÙˆØ§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠØ©ğŸ‡®ğŸ‡¹ ÙˆØ§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©ğŸ‡©ğŸ‡ª ÙˆØ§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ©ğŸ‡¯ğŸ‡µ ÙˆØ§Ù„ØµÙŠÙ†ÙŠØ©ğŸ‡¨ğŸ‡³ ÙˆØ§Ù„Ø¹Ø±Ø¨ÙŠØ©ğŸ‡¸ğŸ‡¦","ÙŠØ¯Ø¹Ù… Ù†Ø¸Ø§Ù…Ù†Ø§ 8 Ù„ØºØ§Øª Ø±Ø¦ÙŠØ³ÙŠØ©.ğŸŒ","Ù†Ø¹Ù…Ù„ Ù…Ø¹ 8 Ù„ØºØ§Øª Ø¹Ø§Ù„Ù…ÙŠØ©.ğŸ—£ï¸"]
            },
            contacto: {
                es: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","Estamos disponibles en WhatsApp, Telegram y WeChat: +34 634 268 663 ğŸ’¬","ContÃ¡ctanos: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                en: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","We're available on WhatsApp, Telegram and WeChat: +34 634 268 663 ğŸ’¬","Contact us: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                fr: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","Disponibles sur WhatsApp, Telegram et WeChat: +34 634 268 663 ğŸ’¬","Contactez-nous: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                de: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","VerfÃ¼gbar auf WhatsApp, Telegram und WeChat: +34 634 268 663 ğŸ’¬","Kontakt: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                it: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","Disponibili su WhatsApp, Telegram e WeChat: +34 634 268 663 ğŸ’¬","Contattaci: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                ja: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","WhatsAppã€Telegramã€WeChatã§å¯¾å¿œ: +34 634 268 663 ğŸ’¬","ãŠå•ã„åˆã‚ã›: +34 634 268 663 (WhatsApp/Telegram/WeChat) âš¡"],
                zh: ["ğŸ“± WhatsApp: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","WhatsAppã€Telegramå’Œå¾®ä¿¡å¯ç”¨: +34 634 268 663 ğŸ’¬","è”ç³»æˆ‘ä»¬: +34 634 268 663 (WhatsApp/Telegram/å¾®ä¿¡) âš¡"],
                ar: ["ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨: +34 634 268 663 | ğŸ“§ bridgemindgames@gmail.com","Ù…ØªØ§Ø­ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… ÙˆÙˆÙŠ ØªØ´Ø§Øª: +34 634 268 663 ğŸ’¬","Ø§ØªØµÙ„ Ø¨Ù†Ø§: +34 634 268 663 (ÙˆØ§ØªØ³Ø§Ø¨/ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…/ÙˆÙŠ ØªØ´Ø§Øª) âš¡"]
            }
        };

        const welcome = {
            es: "Â¡Hola! ğŸ‘‹ Soy tu asistente de BridgeMindGames. Â¿En quÃ© puedo ayudarte?",
            en: "Hi! ğŸ‘‹ I'm your BridgeMindGames assistant. How can I help?",
            fr: "Bonjour! ğŸ‘‹ Je suis votre assistant BridgeMindGames.",
            de: "Hallo! ğŸ‘‹ Ich bin dein BridgeMindGames-Assistent.",
            it: "Ciao! ğŸ‘‹ Sono il tuo assistente BridgeMindGames.",
            ja: "ã“ã‚“ã«ã¡ã¯ï¼ğŸ‘‹ BridgeMindGamesã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚",
            zh: "ä½ å¥½ï¼ğŸ‘‹ æˆ‘æ˜¯ä½ çš„BridgeMindGamesåŠ©æ‰‹ã€‚",
            ar: "Ù…Ø±Ø­Ø¨Ù‹Ø§! ğŸ‘‹ Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ BridgeMindGames."
        };

        const testMsgs = {
            es: ["Â¿QuÃ© es BridgeMindGames?","Â¿QuÃ© idiomas ofrecen?","Â¿CÃ³mo contactarlos?","Necesito ayuda"],
            en: ["What is BridgeMindGames?","What languages do you offer?","How to contact you?","I need help"],
            fr: ["Qu'est-ce que BridgeMindGames?","Quelles langues?","Comment contacter?","J'ai besoin d'aide"],
            de: ["Was ist BridgeMindGames?","Welche Sprachen?","Kontakt?","Ich brauche Hilfe"],
            it: ["Cos'Ã¨ BridgeMindGames?","Quali lingue?","Contatto?","Ho bisogno di aiuto"],
            ja: ["BridgeMindGamesã¨ã¯ï¼Ÿ","ã©ã®è¨€èªï¼Ÿ","é€£çµ¡æ–¹æ³•ï¼Ÿ","åŠ©ã‘ãŒå¿…è¦"],
            zh: ["ä»€ä¹ˆæ˜¯BridgeMindGamesï¼Ÿ","å“ªäº›è¯­è¨€ï¼Ÿ","å¦‚ä½•è”ç³»ï¼Ÿ","éœ€è¦å¸®åŠ©"],
            ar: ["Ù…Ø§ Ù‡Ùˆ BridgeMindGamesØŸ","Ù…Ø§ Ø§Ù„Ù„ØºØ§ØªØŸ","ÙƒÙŠÙ Ø§Ù„Ø§ØªØµØ§Ù„ØŸ","Ø£Ø­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø©"]
        };

        function changeLang(l) {
            lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('current-lang').textContent = langNames[l];
            document.getElementById('chat-messages').innerHTML = '';
            updateTestMsgs();
        }

        function updateTestMsgs() {
            const list = document.getElementById('test-messages');
            list.innerHTML = testMsgs[lang].map(m => `<li onclick="testMsg('${m.replace(/'/g, "\\'")}')">${m}</li>`).join('');
        }

        function testMsg(msg) {
            document.getElementById('chatbot-window').classList.add('active');
            if(document.getElementById('chat-messages').children.length === 0) addBot(welcome[lang]);
            setTimeout(() => { document.getElementById('chat-input').value = msg; send(); }, 500);
        }

        function addBot(txt) {
            const d = document.createElement('div');
            d.className = 'message bot';
            d.innerHTML = `<div class="message-content">${txt}</div>`;
            document.getElementById('chat-messages').appendChild(d);
            document.getElementById('chat-messages').scrollTop = 999999;
        }

        function addUser(txt) {
            const d = document.createElement('div');
            d.className = 'message user';
            d.innerHTML = `<div class="message-content">${txt}</div>`;
            document.getElementById('chat-messages').appendChild(d);
            document.getElementById('chat-messages').scrollTop = 999999;
        }

        function isOnlineHours() {
            const now = new Date();
            const spainTime = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/Madrid' }));
            const hour = spainTime.getHours();
            const day = spainTime.getDay();
            return (day >= 1 && day <= 5) && (hour >= 9 && hour < 18);
        }

        function getResp(txt) {
            txt = txt.toLowerCase();
            let resp;
            
            if(txt.match(/program|quÃ© es|what is|qu'est|was ist|cos'Ã¨|ã¨ã¯|æ˜¯ä»€ä¹ˆ|Ù…Ø§ Ù‡Ùˆ/)) {
                resp = kb.programa[lang];
                return resp[Math.floor(Math.random() * resp.length)];
            }
            if(txt.match(/idiom|language|langue|sprache|lingua|è¨€èª|è¯­è¨€|Ù„ØºØ©/)) {
                resp = kb.idiomas[lang];
                return resp[Math.floor(Math.random() * resp.length)];
            }
            if(txt.match(/contact|correo|email|contatt|kontakt|é€£çµ¡|è”ç³»|Ø§ØªØµØ§Ù„|whatsapp|telegram|wechat/)) {
                resp = kb.contacto[lang];
                return resp[Math.floor(Math.random() * resp.length)];
            }
            
            // Sin respuesta especÃ­fica
            const noMatch = {
                es: "No tengo informaciÃ³n especÃ­fica sobre eso. ğŸ¤”<br><br>Â¿Te gustarÃ­a hablar con un humano o recibir informaciÃ³n personalizada?<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ Ver contactos</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Solicitar informaciÃ³n</button></div>",
                en: "I don't have specific information about that. ğŸ¤”<br><br>Would you like to speak with a human or receive personalized information?<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ View contacts</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Request information</button></div>",
                fr: "Je n'ai pas d'informations spÃ©cifiques. ğŸ¤”<br><br>Souhaitez-vous parler avec un humain?<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ Voir contacts</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Demander infos</button></div>",
                de: "Ich habe keine spezifischen Informationen. ğŸ¤”<br><br>MÃ¶chten Sie mit einem Menschen sprechen?<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ Kontakte anzeigen</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Infos anfordern</button></div>",
                it: "Non ho informazioni specifiche. ğŸ¤”<br><br>Vuoi parlare con un umano?<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ Vedi contatti</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Richiedi info</button></div>",
                ja: "å…·ä½“çš„ãªæƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ğŸ¤”<br><br>äººé–“ã¨è©±ã—ãŸã„ã§ã™ã‹ï¼Ÿ<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ é€£çµ¡å…ˆã‚’è¦‹ã‚‹</button><button onclick='fillForm()' class='form-btn'>ğŸ“ æƒ…å ±ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</button></div>",
                zh: "æˆ‘æ²¡æœ‰å…·ä½“ä¿¡æ¯ã€‚ğŸ¤”<br><br>æ‚¨æƒ³ä¸çœŸäººäº¤è°ˆå—ï¼Ÿ<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ æŸ¥çœ‹è”ç³»æ–¹å¼</button><button onclick='fillForm()' class='form-btn'>ğŸ“ ç´¢å–ä¿¡æ¯</button></div>",
                ar: "Ù„ÙŠØ³ Ù„Ø¯ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­Ø¯Ø¯Ø©. ğŸ¤”<br><br>Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø¥Ù†Ø³Ø§Ù†ØŸ<br><br><div class='action-buttons'><button onclick='showContact()' class='contact-btn'>ğŸ“§ Ø¹Ø±Ø¶ Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</button><button onclick='fillForm()' class='form-btn'>ğŸ“ Ø·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</button></div>"
            };
            return noMatch[lang];
        }

        function send() {
            const inp = document.getElementById('chat-input');
            const q = inp.value.trim();
            if(!q) return;
            addUser(q);
            inp.value = '';
            setTimeout(() => addBot(getResp(q)), 300);
        }

        function closeWindow() {
            document.getElementById('chatbot-window').classList.remove('active');
        }

        window.showContact = function() {
            const msg = {
                es: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>Â¡Te responderemos pronto! ğŸ˜Š",
                en: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>We'll reply soon! ğŸ˜Š",
                fr: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>Nous rÃ©pondrons bientÃ´t! ğŸ˜Š",
                de: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>Wir antworten bald! ğŸ˜Š",
                it: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>Risponderemo presto! ğŸ˜Š",
                ja: "ğŸ“± WhatsApp / Telegram / WeChat: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>ã™ãã«è¿”ä¿¡ã—ã¾ã™ï¼ğŸ˜Š",
                zh: "ğŸ“± WhatsApp / Telegram / å¾®ä¿¡: +34 634 268 663<br>ğŸ“§ Email: bridgemindgames@gmail.com<br><br>æˆ‘ä»¬ä¼šå°½å¿«å›å¤ï¼ğŸ˜Š",
                ar: "ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨ / ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… / ÙˆÙŠ ØªØ´Ø§Øª: +34 634 268 663<br>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: bridgemindgames@gmail.com<br><br>Ø³Ù†Ø±Ø¯ Ù‚Ø±ÙŠØ¨Ù‹Ø§! ğŸ˜Š"
            };
            setTimeout(() => addBot(msg[lang]), 300);
        };

       window.fillForm = function() {
    const online = isOnlineHours();
    const msgs = online ? {
        es: "ğŸŸ¢ Â¡En lÃ­nea!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Chatear</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formulario</button></div>",
        en: "ğŸŸ¢ Online!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Chat</button><button onclick='goForm()' class='form-btn'>ğŸ“ Form</button></div>",
        fr: "ğŸŸ¢ En ligne!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Chatter</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formulaire</button></div>",
        de: "ğŸŸ¢ Online!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Chatten</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formular</button></div>",
        it: "ğŸŸ¢ Online!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Chatta</button><button onclick='goForm()' class='form-btn'>ğŸ“ Modulo</button></div>",
        ja: "ğŸŸ¢ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ ãƒãƒ£ãƒƒãƒˆ</button><button onclick='goForm()' class='form-btn'>ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ </button></div>",
        zh: "ğŸŸ¢ åœ¨çº¿!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ èŠå¤©</button><button onclick='goForm()' class='form-btn'>ğŸ“ è¡¨æ ¼</button></div>",
        ar: "ğŸŸ¢ Ù…ØªØµÙ„!<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø©</button><button onclick='goForm()' class='form-btn'>ğŸ“ Ù†Ù…ÙˆØ°Ø¬</button></div>"
    } : {
        es: "ğŸ”´ Fuera de horario (L-V 9-18h)<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Mensaje</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formulario</button></div>",
        en: "ğŸ”´ Outside hours (M-F 9-18h)<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Message</button><button onclick='goForm()' class='form-btn'>ğŸ“ Form</button></div>",
        fr: "ğŸ”´ Hors heures<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Message</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formulaire</button></div>",
        de: "ğŸ”´ AuÃŸerhalb<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Nachricht</button><button onclick='goForm()' class='form-btn'>ğŸ“ Formular</button></div>",
        it: "ğŸ”´ Fuori orario<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Messaggio</button><button onclick='goForm()' class='form-btn'>ğŸ“ Modulo</button></div>",
        ja: "ğŸ”´ å–¶æ¥­æ™‚é–“å¤–<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</button><button onclick='goForm()' class='form-btn'>ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ </button></div>",
        zh: "ğŸ”´ éå·¥ä½œæ—¶é—´<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ æ¶ˆæ¯</button><button onclick='goForm()' class='form-btn'>ğŸ“ è¡¨æ ¼</button></div>",
        ar: "ğŸ”´ Ø®Ø§Ø±Ø¬ Ø§Ù„ÙˆÙ‚Øª<br><br><div class='action-buttons'><button onclick='showMessaging()' class='whatsapp-btn'>ğŸ’¬ Ø±Ø³Ø§Ù„Ø©</button><button onclick='goForm()' class='form-btn'>ğŸ“ Ù†Ù…ÙˆØ°Ø¬</button></div>"
    };
    setTimeout(() => addBot(msgs[lang]), 300);
};

window.showMessaging = function() {
    const msg = {
        es: "ğŸ“± Elige:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        en: "ğŸ“± Choose:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        fr: "ğŸ“± Choisissez:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        de: "ğŸ“± WÃ¤hlen:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        it: "ğŸ“± Scegli:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        ja: "ğŸ“± é¸æŠ:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ WeChat</button></div>",
        zh: "ğŸ“± é€‰æ‹©:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š WhatsApp</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ Telegram</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ å¾®ä¿¡</button></div>",
        ar: "ğŸ“± Ø§Ø®ØªØ±:<br>+34 634 268 663<br><br><div class='action-buttons'><button onclick='openWA()' class='whatsapp-btn'>ğŸ’š ÙˆØ§ØªØ³Ø§Ø¨</button><button onclick='openTG()' class='telegram-btn'>âœˆï¸ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</button><button onclick='openWC()' class='wechat-btn'>ğŸ’¬ ÙˆÙŠ ØªØ´Ø§Øª</button></div>"
    };
    setTimeout(() => addBot(msg[lang]), 300);
};

window.openWA = function() {
    const m = {es:"Hola, me interesa BridgeMind Games",en:"Hi, I'm interested in BridgeMind Games",fr:"Bonjour, BridgeMind Games m'intÃ©resse",de:"Hallo, ich interessiere mich fÃ¼r BridgeMind Games",it:"Ciao, mi interessa BridgeMind Games",ja:"ã“ã‚“ã«ã¡ã¯ã€BridgeMind Gamesã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™",zh:"æ‚¨å¥½ï¼Œæˆ‘å¯¹BridgeMind Gamesæ„Ÿå…´è¶£",ar:"Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø£Ù†Ø§ Ù…Ù‡ØªÙ… Ø¨Ù€ BridgeMind Games"};
    window.open(`https://wa.me/34634268663?text=${encodeURIComponent(m[lang])}`, '_blank');
    setTimeout(() => addBot("âœ… Abriendo WhatsApp... ğŸ’š"), 300);
};

window.openTG = function() {
    window.open(`https://t.me/+34634268663`, '_blank');
    setTimeout(() => addBot("âœ… Abriendo Telegram... âœˆï¸"), 300);
};

window.openWC = function() {
    const m = {es:"ğŸ“± Busca: +34 634 268 663",en:"ğŸ“± Search: +34 634 268 663",fr:"ğŸ“± Recherche: +34 634 268 663",de:"ğŸ“± Suchen: +34 634 268 663",it:"ğŸ“± Cerca: +34 634 268 663",ja:"ğŸ“± æ¤œç´¢: +34 634 268 663",zh:"ğŸ“± æœç´¢: +34 634 268 663",ar:"ğŸ“± Ø§Ø¨Ø­Ø«: +34 634 268 663"};
    setTimeout(() => addBot(m[lang]), 300);
};

window.goForm = function() {
    setTimeout(() => addBot("ğŸ“ Scroll al formulario..."), 300);
};

document.getElementById('chatbot-button').onclick = () => {
    document.getElementById('chatbot-window').classList.add('active');
    if(document.getElementById('chat-messages').children.length === 0) addBot(welcome[lang]);
};

document.getElementById('chat-input').onkeypress = (e) => { if(e.key === 'Enter') send(); };

updateTestMsgs();
    </script>
</body>
</html>
